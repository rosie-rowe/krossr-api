{"version":3,"sources":["webpack:///./public/modules/levels/tile/TileState.ts","webpack:///./public/modules/levels/matrix/BooleanMatrix.ts","webpack:///./public/modules/AppModule.ts","webpack:///./public/modules/config.ts","webpack:///./public/modules/core/CoreModule.ts","webpack:///./public/modules/core/componentDialog/ComponentDialogModule.ts","webpack:///./public/modules/core/componentDialog/ComponentDialogController.ts","webpack:///./public/modules/core/componentDialog/ComponentDialogService.ts","webpack:///./public/modules/core/confirmation/ConfirmationModule.ts","webpack:///./public/modules/core/confirmation/ConfirmationComponent.ts","webpack:///./public/modules/core/confirmation/ConfirmationController.ts","webpack:///./public/modules/core/convertToNumber/ConvertToNumberModule.ts","webpack:///./public/modules/core/convertToNumber/ConvertToNumberDirective.ts","webpack:///./public/modules/core/eventService/EventServiceModule.ts","webpack:///./public/modules/core/eventService/EventService.ts","webpack:///./public/modules/core/header/HeaderModule.ts","webpack:///./public/modules/core/header/HeaderComponent.ts","webpack:///./public/modules/core/header/HeaderController.ts","webpack:///./public/modules/core/help/HelpModule.ts","webpack:///./public/modules/core/help/HelpComponent.ts","webpack:///./public/modules/core/loadingAnimation/LoadingAnimationModule.ts","webpack:///./public/modules/core/loadingAnimation/LoadingAnimationComponent.ts","webpack:///./public/modules/core/loadingAnimation/LoadingAnimationController.ts","webpack:///./public/modules/core/pagination/PaginationModule.ts","webpack:///./public/modules/core/pagination/PaginationComponent.ts","webpack:///./public/modules/core/pagination/PaginationController.ts","webpack:///./public/modules/core/popupContent/PopupContentModule.ts","webpack:///./public/modules/core/popupContent/PopupContentComponent.ts","webpack:///./public/modules/core/resize/ResizeModule.ts","webpack:///./public/modules/core/resize/ResizeDirective.ts","webpack:///./public/modules/core/touch/TouchModule.ts","webpack:///./public/modules/core/touch/TouchService.ts","webpack:///./public/modules/core/config/RouteModule.ts","webpack:///./public/modules/levels/LevelsModule.ts","webpack:///./public/modules/levels/dragBox/DragBoxModule.ts","webpack:///./public/modules/levels/dragBox/DragBoxService.ts","webpack:///./public/modules/levels/game/GameModule.ts","webpack:///./public/modules/levels/game/GameComponent.ts","webpack:///./public/modules/levels/game/GameController.ts","webpack:///./public/modules/levels/gameOver/GameOverModule.ts","webpack:///./public/modules/levels/gameOver/GameOverComponent.ts","webpack:///./public/modules/levels/gameOver/GameOverController.ts","webpack:///./public/modules/levels/gameOver/GameOverService.ts","webpack:///./public/modules/levels/gameSize/GameSizeModule.ts","webpack:///./public/modules/levels/gameSize/GameSizeService.ts","webpack:///./public/modules/levels/level/LevelModule.ts","webpack:///./public/modules/levels/level/LevelResource.ts","webpack:///./public/modules/levels/level/LevelComponent.ts","webpack:///./public/modules/levels/level/LevelController.ts","webpack:///./public/modules/levels/gameMatrix/GameMatrix.ts","webpack:///./public/modules/levels/matrix/Matrix.ts","webpack:///./public/modules/levels/level/LevelService.ts","webpack:///./public/modules/levels/levelSelect/LevelSelectModule.ts","webpack:///./public/modules/levels/levelSelect/LevelSelectComponent.ts","webpack:///./public/modules/levels/levelSelect/LevelSelectController.ts","webpack:///./public/modules/levels/modeSelector/ModeSelectorModule.ts","webpack:///./public/modules/levels/modeSelector/ModeSelectorComponent.ts","webpack:///./public/modules/levels/modeSelector/ModeSelectorController.ts","webpack:///./public/modules/levels/numberGrid/NumberGridModule.ts","webpack:///./public/modules/levels/numberGrid/NumberGridComponent.ts","webpack:///./public/modules/levels/numberGrid/NumberGridController.ts","webpack:///./public/modules/levels/numberLine/NumberLineModule.ts","webpack:///./public/modules/levels/numberLine/NumberLineComponent.ts","webpack:///./public/modules/levels/numberLine/NumberLineController.ts","webpack:///./public/modules/levels/tileGroup/TileGroup.ts","webpack:///./public/modules/levels/shell/ShellModule.ts","webpack:///./public/modules/levels/shell/ShellComponent.ts","webpack:///./public/modules/levels/shell/ShellController.ts","webpack:///./public/modules/levels/shiftService/ShiftServiceModule.ts","webpack:///./public/modules/levels/shiftService/ShiftService.ts","webpack:///./public/modules/levels/starRating/StarRatingModule.ts","webpack:///./public/modules/levels/starRating/StarRatingComponent.ts","webpack:///./public/modules/levels/starRating/StarRatingController.ts","webpack:///./public/modules/levels/sideLengthService/SideLengthServiceModule.ts","webpack:///./public/modules/levels/sideLengthService/SideLengthService.ts","webpack:///./public/modules/levels/tile/TileModule.ts","webpack:///./public/modules/levels/tile/TileComponent.ts","webpack:///./public/modules/levels/tile/TileController.ts","webpack:///./public/modules/levels/tile/TileService.ts","webpack:///./public/modules/levels/tileSize/TileSizeModule.ts","webpack:///./public/modules/levels/tileSize/TileSizeService.ts","webpack:///./public/modules/levels/utils/UtilsModule.ts","webpack:///./public/modules/levels/utils/Utils.ts","webpack:///./public/modules/levels/config/RouteModule.ts","webpack:///./public/modules/users/UsersModule.ts","webpack:///./public/modules/users/authentication/AuthenticationModule.ts","webpack:///./public/modules/users/authentication/AuthenticationService.ts","webpack:///./public/modules/users/editProfile/EditProfileModule.ts","webpack:///./public/modules/users/editProfile/EditProfileComponent.ts","webpack:///./public/modules/users/editProfile/EditProfileController.ts","webpack:///./public/modules/users/forgotPassword/ForgotPasswordModule.ts","webpack:///./public/modules/users/forgotPassword/ForgotPasswordComponent.ts","webpack:///./public/modules/users/forgotPassword/ForgotPasswordController.ts","webpack:///./public/modules/users/resetPassword/ResetPasswordModule.ts","webpack:///./public/modules/users/resetPassword/ResetPasswordComponent.ts","webpack:///./public/modules/users/resetPassword/ResetPasswordController.ts","webpack:///./public/modules/users/signIn/SignInModule.ts","webpack:///./public/modules/users/signIn/SignInComponent.ts","webpack:///./public/modules/users/signIn/SignInController.ts","webpack:///./public/modules/users/signUp/SignUpModule.ts","webpack:///./public/modules/users/signUp/SignUpComponent.ts","webpack:///./public/modules/users/signUp/SignUpController.ts","webpack:///./public/modules/users/usersService/UsersServiceModule.ts","webpack:///./public/modules/users/usersService/UsersService.ts","webpack:///./public/modules/users/config/ErrorHandler.ts","webpack:///./public/modules/users/config/RouteModule.ts"],"names":[],"mappings":"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","file":"krossr.bundle-864bc2a6711784b5bb41.js","sourcesContent":["export enum TileState {\r\n    empty, // blank, default state\r\n    pending, // translucent overlay, for dragging & selecting multiple\r\n    marked, // x'd out, for marking that the tile is known not to be correct\r\n    selected // colored in, for marking that the tile is correct\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tile/TileState.ts","import { Matrix } from './Matrix';\r\n\r\n/**\r\n* The matrix implementation we'll use for the game functionality\r\n*/\r\n\r\nexport class BooleanMatrix extends Matrix<boolean> {\r\n    constructor(rowCount: number, colCount: number) {\r\n        super(rowCount, colCount);\r\n\r\n        // Initialize to false\r\n        this.clear();\r\n    }\r\n\r\n    clear() {\r\n        this.iterate((row, column) => {\r\n            this.setValueAt(row, column, false);\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/matrix/BooleanMatrix.ts","import * as angular from 'angular';\r\n\r\nimport { ApplicationConfiguration } from './config';\r\n\r\nimport CoreModule from './core/CoreModule';\r\nimport LevelsModule from './levels/LevelsModule';\r\nimport UsersModule from './users/UsersModule';\r\n\r\nfunction application() {\r\n\tlet dependencies = ApplicationConfiguration.applicationModuleVendorDependencies.concat([\r\n\t\tCoreModule,\r\n\t\tLevelsModule,\r\n\t\tUsersModule\r\n\t]);\r\n\t\r\n\tangular.module(ApplicationConfiguration.applicationModuleName, dependencies);\r\n\t\r\n\t// Setting HTML5 Location Mode\r\n\tangular.module(ApplicationConfiguration.applicationModuleName).config(['$locationProvider',\r\n\t\tfunction($locationProvider) {\r\n\t\t\t$locationProvider.hashPrefix('!');\r\n\t\t}\r\n\t]);\r\n\t\r\n\t// Setting ngDialog defaults\r\n\tangular.module(ApplicationConfiguration.applicationModuleName).config(['ngDialogProvider',\r\n\t\tfunction(ngDialogProvider) {\r\n\t\t\tngDialogProvider.setDefaults({\r\n\t\t\t\tcloseByDocument: false,\r\n\t\t\t\toverlay: true,\r\n\t\t\t\tappendTo: '#main-section'\r\n\t\t\t});\r\n\t\t}\r\n\t]);\r\n\t\r\n\t//Then define the init function for starting up the application\r\n\tangular.element(document).ready(function() {\r\n\t\t//Fixing facebook bug with redirect\r\n\t\tif (window.location.hash === '#_=_') window.location.hash = '#!';\r\n\t\r\n\t\t// If it's not already defined, define a method to find the index of an object in an array.\r\n\t\tif (!Array.prototype.hasOwnProperty('indexOfObject')) {\r\n\t\t\tArray.prototype['indexOfObject'] = function(obj) {\r\n\t\t\t\tfor(var i = 0; i < this.length; i++){\r\n\t\t\t\t\tif(angular.equals(this[i], obj)){\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t//Then init the app\r\n\t\tangular.bootstrap(document, [ApplicationConfiguration.applicationModuleName]);\r\n\t});\r\n}\r\n\r\napplication();\n\n\n// WEBPACK FOOTER //\n// ./public/modules/AppModule.ts","import * as angular from 'angular';\r\n\r\n'use strict';\r\n\r\n// Init the application configuration module for AngularJS application\r\nexport var ApplicationConfiguration = (function() {\r\n\t// Init module configuration options\r\n\tvar applicationModuleName = 'Krossr';\r\n\tvar applicationModuleVendorDependencies = [\r\n\t\t'ngResource',\r\n\t\t'ngAnimate',\r\n\t\t'ngCookies',\r\n\t\t'ngDialog',\r\n\t\t'ngLodash',\r\n\t\t'ngTouch',\r\n\t\t'ngSanitize',\r\n\t\t'ui.router',\r\n\t\t'ui.utils',\r\n\t\t'debounce',\r\n\t\t'templates-main'\r\n\t];\r\n\r\n\treturn {\r\n\t\tapplicationModuleName: applicationModuleName,\r\n\t\tapplicationModuleVendorDependencies: applicationModuleVendorDependencies\r\n\t};\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./public/modules/config.ts","'use strict';\r\n\r\nimport * as angular from 'angular';\r\n\r\nimport ComponentDialogModule from './componentDialog/ComponentDialogModule';\r\nimport ConfirmationModule from './confirmation/ConfirmationModule';\r\nimport ConvertToNumberModule from './convertToNumber/ConvertToNumberModule';\r\nimport EventServiceModule from './eventService/EventServiceModule';\r\nimport HeaderModule from './header/HeaderModule';\r\nimport HelpModule from './help/HelpModule';\r\nimport LoadingAnimationModule from './loadingAnimation/LoadingAnimationModule';\r\nimport PaginationModule from'./pagination/PaginationModule';\r\nimport PopupContentModule from './popupContent/PopupContentModule';\r\nimport ResizeModule from './resize/ResizeModule';\r\nimport TouchModule from './touch/TouchModule';\r\n\r\nimport { routing } from './config/RouteModule';\r\n\r\nexport default angular\r\n    .module('core', [\r\n        ComponentDialogModule,\r\n        ConfirmationModule,\r\n        ConvertToNumberModule,\r\n        EventServiceModule,\r\n        HeaderModule,\r\n        HelpModule,\r\n        LoadingAnimationModule,\r\n        PaginationModule,\r\n        PopupContentModule,\r\n        ResizeModule,\r\n        TouchModule\r\n    ])\r\n    .config(routing)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/CoreModule.ts","import * as angular from 'angular';\r\nimport { ComponentDialogController } from './ComponentDialogController';\r\nimport { ComponentDialogService } from './ComponentDialogService';\r\n\r\nexport default angular\r\n    .module('core.componentDialog', [])\r\n    .controller(ComponentDialogController.$name, ComponentDialogController)\r\n    .service(ComponentDialogService.$name, ComponentDialogService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/componentDialog/ComponentDialogModule.ts","'use strict';\r\n\r\n/** A controller for an individual ComponentDialog, meant to provide the closeThisDialog() function & others to all of them without needing to explicity pass it in */\r\n\r\nexport class ComponentDialogController implements angular.IController {\r\n    static $controllerAs = 'componentDialogCtrl';\r\n    static $name = 'ComponentDialogController';\r\n\r\n    private closeThisDialog: Function;\r\n\r\n    public $onInit() {\r\n        // TSBUG\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/componentDialog/ComponentDialogController.ts","import * as angular from 'angular';\r\n\r\n'use strict';\r\n\r\n/**\r\n * Wrapper for ngDialog to easily allow dialogs to be defined as components\r\n */\r\n\r\nexport class ComponentDialogService {\r\n    static $name = 'componentDialogService';\r\n\r\n    static $inject = [\r\n        'lodash',\r\n        'ngDialog'\r\n    ];\r\n\r\n    constructor(\r\n        private lodash: _.LoDashStatic,\r\n        private ngDialog: angular.dialog.IDialogService\r\n    ) {\r\n\r\n    }\r\n\r\n    private defaultOptions: angular.dialog.IDialogOptions = {\r\n        plain: true\r\n    };\r\n\r\n    /**\r\n     * Converts a 1-level deep object consisting of attributes to give to a component dialog, e.g.\r\n     * { thisIsAnAttribute: 'thisIsAValue' } => `this-is-an-attribute=\"thisIsAValue\"`\r\n     * @param obj \r\n     */\r\n    private convertObjectToAttributes(obj: any) {\r\n        let result = '';\r\n\r\n        if (!obj) {\r\n            return result;\r\n        }\r\n\r\n        let keys = Object.keys(obj);\r\n\r\n        for (let i = 0, len = keys.length; i < len; i++) {\r\n            let currentKey = keys[i];\r\n            result += `${this.lodash.kebabCase(currentKey)}=\"${obj[currentKey]}\" `;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    private getDefaultOpenOptions(directiveName: string, data?: any): angular.dialog.IDialogOpenOptions {\r\n        return angular.extend(this.defaultOptions, {\r\n            controller: 'ComponentDialogController',\r\n            controllerAs: 'componentDialogCtrl',\r\n            template: this.getTemplate(directiveName, data)\r\n        });\r\n    }\r\n\r\n    private getDefaultOpenConfirmOptions(directiveName: string, data?: any): angular.dialog.IDialogOpenConfirmOptions {\r\n        return angular.extend(this.defaultOptions, {\r\n            template: this.getTemplate(directiveName, data)\r\n        })\r\n    }\r\n\r\n    private getTemplate(directiveName: string, data?: any){\r\n        return '<' + directiveName + ' close-action=\"closeThisDialog()\"' + this.convertObjectToAttributes(data) + '>' + '</' + directiveName + '>';\r\n    }\r\n\r\n    open<TComponentAttributes>(directiveName: string, data?: TComponentAttributes): angular.dialog.IDialogOpenResult {\r\n        let options = this.getDefaultOpenOptions(directiveName, data);\r\n\r\n        return this.ngDialog.open(options);\r\n    }\r\n\r\n    openConfirm<TComponentAttributes>(directiveName: string, data?: TComponentAttributes): angular.IPromise<any> {\r\n        let options = this.getDefaultOpenConfirmOptions(directiveName);\r\n\r\n        return this.ngDialog.openConfirm(options);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/componentDialog/ComponentDialogService.ts","import * as angular from 'angular';\r\nimport { ConfirmationComponent } from './ConfirmationComponent';\r\nimport { ConfirmationController } from './ConfirmationController';\r\n\r\nexport default angular\r\n    .module('core.confirmation', [])\r\n    .component(ConfirmationComponent.$name, new ConfirmationComponent())\r\n    .controller(ConfirmationController.$name, ConfirmationController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/confirmation/ConfirmationModule.ts","'use strict';\r\n\r\nexport class ConfirmationComponent implements angular.IComponentOptions {\r\n    static $name = 'confirmation';\r\n    bindToController = true;\r\n    controller = 'ConfirmationController';\r\n    controllerAs = 'confirmationCtrl';\r\n    templateUrl = 'modules/core/confirmation/ConfirmationView.html';\r\n\r\n    bindings = {\r\n        cancelAction: '&',\r\n        confirmAction: '&',\r\n        submitAction: '&',\r\n        submitText: '@'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/confirmation/ConfirmationComponent.ts","'use strict';\r\n\r\nexport class ConfirmationController implements angular.IComponentController {\r\n    static $controllerAs = 'confirmationCtrl';\r\n    static $name = 'ConfirmationController';\r\n\r\n    static $inject = [\r\n        'ngDialog'\r\n    ];\r\n\r\n    private cancelAction: Function;\r\n    private confirmAction: Function;\r\n    private submitAction: Function;\r\n    private submitText: string;\r\n\r\n    constructor(\r\n        private ngDialog\r\n    ) {\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/confirmation/ConfirmationController.ts","import * as angular from 'angular';\r\nimport { ConvertToNumberDirective } from './ConvertToNumberDirective';\r\n\r\nexport default angular\r\n    .module('core.convertToNumber', [])\r\n    .directive('convertToNumber', () => new ConvertToNumberDirective())\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/convertToNumber/ConvertToNumberModule.ts","'use strict';\r\n\r\n/** Required to have a number select a dropdown's value, stolen from https://docs.angularjs.org/api/ng/directive/select */\r\n\r\nexport class ConvertToNumberDirective implements angular.IDirective {\r\n    static $name = 'convertToNumber';\r\n    require = 'ngModel';\r\n    restrict = 'A';\r\n\r\n    link = (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes, ngModel: angular.INgModelController) => {\r\n        ngModel.$parsers.push((val: string) => {\r\n            return parseInt(val, 10);\r\n        });\r\n\r\n        ngModel.$formatters.push((val: number) => {\r\n            return '' + val;\r\n        });\r\n    }\r\n\r\n    constructor() { }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/convertToNumber/ConvertToNumberDirective.ts","import * as angular from 'angular';\r\nimport { EventService } from './EventService';\r\n\r\nexport default angular\r\n    .module('core.eventService', [])\r\n    .service(EventService.$name, EventService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/eventService/EventServiceModule.ts","'use strict';\r\n\r\n/** Handles broadcast/on events */\r\n\r\nexport class EventService {\r\n    static $name = 'eventService';\r\n\r\n    static $inject = [\r\n        '$rootScope'\r\n    ]\r\n\r\n    constructor(\r\n        private $rootScope: angular.IRootScopeService\r\n    ) {\r\n\r\n    }\r\n    \r\n    /** Using this method ensures that an event will always be broadcast from the root down instead of having to worry about hierarchy. */\r\n    publish(event: string, ...args: any[]): void {\r\n        this.$rootScope.$broadcast(event, args);\r\n    }\r\n\r\n    /** Using this method ensures that an event will always be destroyed when the accompanying scope is destroyed, saving boilerplate code */\r\n    subscribe(scope: angular.IScope, event: string, action: Function): void {\r\n        let eventCanceler = scope.$on(event, (event: angular.IAngularEvent, ...args: any[]) => {\r\n            action(event, args)\r\n        });\r\n        \r\n        scope.$on('destroy', eventCanceler);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/eventService/EventService.ts","import * as angular from 'angular';\r\nimport { HeaderComponent } from './HeaderComponent';\r\nimport { HeaderController } from './HeaderController';\r\n\r\nexport default angular\r\n    .module('core.header', [])\r\n    .component(HeaderComponent.$name, new HeaderComponent())\r\n    .controller(HeaderController.$name, HeaderController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/header/HeaderModule.ts","'use strict';\r\n\r\nexport class HeaderComponent implements angular.IComponentOptions {\r\n    static $name = 'krossrHeader';\r\n    controller = 'HeaderController';\r\n    controllerAs = 'headerCtrl';\r\n    templateUrl = 'modules/core/header/HeaderView.html';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/header/HeaderComponent.ts","import { AuthenticationService } from '../../users/authentication/AuthenticationService'\r\nimport { ComponentDialogService } from '../../core/componentDialog/ComponentDialogService';\r\n\r\n'use strict';\r\n\r\nexport class HeaderController implements angular.IComponentController {\r\n\tstatic $controllerAs = 'headerCtrl';\r\n\tstatic $name = 'HeaderController';\t\r\n\r\n\tstatic $inject = [\r\n\t\t'Authentication',\r\n\t\t'componentDialogService',\r\n\t]\r\n\r\n\tconstructor(\r\n\t\tprivate Authentication: AuthenticationService,\r\n\t\tprivate componentDialogService: ComponentDialogService,\r\n\t) {\r\n\r\n\t}\r\n\r\n\t$onInit() {}\r\n\r\n\topenEditProfile() {\r\n\t\tthis.componentDialogService.open('edit-profile');\r\n\t}\r\n\r\n\topenHelp() {\r\n\t\tthis.componentDialogService.open('help');\r\n\t}\r\n\r\n\topenLevelSelect() {\r\n\t\tthis.componentDialogService.open('level-select');\r\n\t}\r\n\r\n\topenSignIn() {\r\n\t\tthis.componentDialogService.open('sign-in');\r\n\t}\r\n\r\n\topenSignUp() {\r\n\t\tthis.componentDialogService.open('sign-up');\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/header/HeaderController.ts","import * as angular from 'angular';\r\nimport { HelpComponent } from './HelpComponent';\r\n\r\nexport default angular\r\n    .module('core.help', [])\r\n    .component(HelpComponent.$name, new HelpComponent())\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/help/HelpModule.ts","'use strict';\r\n\r\nexport class HelpComponent implements angular.IComponentOptions {\r\n    static $name = 'help';\r\n    bindToController = true;\r\n    controllerAs = 'helpCtrl';\r\n    templateUrl = 'modules/core/help/HelpView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&'\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/help/HelpComponent.ts","import * as angular from 'angular';\r\nimport { LoadingAnimationComponent } from './LoadingAnimationComponent';\r\nimport { LoadingAnimationController } from './LoadingAnimationController';\r\n\r\nexport default angular\r\n    .module('core.loadingAnimation', [])\r\n    .component(LoadingAnimationComponent.$name, new LoadingAnimationComponent())\r\n    .controller(LoadingAnimationController.$name, LoadingAnimationController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/loadingAnimation/LoadingAnimationModule.ts","'use strict';\r\n\r\nexport class LoadingAnimationComponent implements angular.IComponentOptions {\r\n    static $name = 'loadingAnimation';\r\n    bindToController = true;\r\n    controller = 'LoadingAnimationController';\r\n    controllerAs = 'loadingAnimationCtrl';\r\n    templateUrl = 'modules/core/loadingAnimation/LoadingAnimationView.html';\r\n\r\n    bindings = {\r\n        condition: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/loadingAnimation/LoadingAnimationComponent.ts","'use strict';\r\n\r\nexport class LoadingAnimationController implements angular.IComponentController {\r\n    static controllerAs = 'loadingAnimationCtrl';\r\n    static $name = 'LoadingAnimationController';\r\n\r\n    private condition: boolean;\r\n\r\n    $onInit() {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/loadingAnimation/LoadingAnimationController.ts","import * as angular from 'angular';\r\nimport { PaginationComponent } from './PaginationComponent';\r\nimport { PaginationController } from './PaginationController';\r\n\r\nexport default angular\r\n    .module('core.pagination', [])\r\n    .component(PaginationComponent.$name, new PaginationComponent())\r\n    .controller(PaginationController.$name, PaginationController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/pagination/PaginationModule.ts","'use strict';\r\n\r\nexport class PaginationComponent implements angular.IComponentOptions {\r\n    static $name = 'pagination';\r\n    bindToController = true;\r\n    controller = 'PaginationController';\r\n    controllerAs = 'paginationCtrl';\r\n    templateUrl = 'modules/core/pagination/PaginationView.html';\r\n\r\n    bindings = {\r\n        onPagination: '&',\r\n        currentPage: '=', // todo\r\n        totalPages: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/pagination/PaginationComponent.ts","'use strict';\r\n\r\nexport class PaginationController implements angular.IComponentController {\r\n    static $controllerAs = 'paginationCtrl';\r\n    static $name = 'PaginationController';\r\n\r\n    static $inject = [];\r\n\r\n    constructor() {}\r\n\r\n    private currentPage: number;\r\n    private totalPages: number;\r\n    private onPagination: Function;\r\n\r\n    $onInit() {}\r\n\r\n    pageDown() {\r\n        if (this.currentPage > 0) {\r\n            this.currentPage--;\r\n            this.onPagination({\r\n                currentPage: this.currentPage\r\n            });\r\n        }\r\n    }\r\n\r\n    pageUp() {\r\n        if (this.currentPage + 1 < this.totalPages) {\r\n            this.currentPage++;\r\n            this.onPagination({\r\n                currentPage: this.currentPage\r\n            });\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/pagination/PaginationController.ts","import * as angular from 'angular';\r\nimport { PopupContentComponent } from './PopupContentComponent';\r\n\r\nexport default angular\r\n    .module('core.popupContent', [])\r\n    .component(PopupContentComponent.$name, new PopupContentComponent())\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/popupContent/PopupContentModule.ts","'use strict';\r\n\r\nexport class PopupContentComponent implements angular.IComponentOptions {\r\n    static $name = 'popupContent';\r\n    bindToController = true;\r\n    templateUrl = 'modules/core/popupContent/PopupContentView.html';\r\n    transclude = true;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/popupContent/PopupContentComponent.ts","import * as angular from 'angular';\r\nimport { ResizeDirective } from './ResizeDirective';\r\n\r\nexport default angular\r\n    .module('core.resize', [])\r\n    .directive(ResizeDirective.$name, ($window, debounce, gameSizeService, Utils) => new ResizeDirective($window, debounce, gameSizeService, Utils))\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/resize/ResizeModule.ts","import * as angular from 'angular';\r\nimport { GameSizeService } from '../../levels/gameSize/GameSizeService';\r\nimport { Utils } from '../../levels/utils/Utils'\r\n\r\n'use strict';\r\n\r\nexport class ResizeDirective implements angular.IDirective {\r\n    static $name = 'resize';\r\n\r\n    static $inject = [\r\n        '$window',\r\n        'debounce',\r\n        'gameSizeService',\r\n        'Utils'\r\n    ]\r\n\r\n    constructor(\r\n        private $window: angular.IWindowService,\r\n        private debounce,\r\n        private gameSizeService: GameSizeService,\r\n        private Utils: Utils\r\n    ) {\r\n        \r\n    }\r\n\r\n    link = (scope) => {\r\n        var gameMatrix;\r\n\r\n        angular.element(this.$window).on('resize', this.debounce(() => {\r\n            gameMatrix = this.Utils.getGameMatrix();\r\n\r\n            if (gameMatrix) {\r\n                this.gameSizeService.calculatePlayableArea();\r\n                this.gameSizeService.setGameSize(gameMatrix.length);\r\n                scope.$apply();\r\n            }\r\n        }, 250));\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/resize/ResizeDirective.ts","import * as angular from 'angular';\r\nimport { TouchService } from './TouchService';\r\n\r\nexport default angular\r\n    .module('core.touch', [])\r\n    .service(TouchService.$name, TouchService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/touch/TouchModule.ts","import * as angular from 'angular';\r\n\r\n'use strict';\r\n\r\nexport class TouchService {\r\n    static $name = 'touchService';\r\n\r\n    /** Touchmove/touchend will not move along with crossing over elements like mousemove/mouseup will, so we need hax */\r\n    getRealTarget(event: JQueryEventObject): angular.IAugmentedJQuery {\r\n        var myLocation = this.getTouches(event)[0];\r\n\r\n        return angular.element(document.elementFromPoint(myLocation.clientX, myLocation.clientY));\r\n    }\r\n\r\n    /** Shortcut for getting actual target scope */\r\n    getTargetScope(event: JQueryEventObject): angular.IScope {\r\n        var target = this.getRealTarget(event);\r\n\r\n        return target.scope();\r\n    }\r\n\r\n    /**\r\n     * Stolen from http://www.jqwidgets.com/community/topic/dragend-event-properties-clientx-and-clienty-are-undefined-on-ios/ \r\n     * Handles both mouse and touch events. Modified for brevity */\r\n    getTouches(event: any): any { // todo\r\n        if (event.originalEvent) {\r\n            if (event.originalEvent.touches && event.originalEvent.touches.length) {\r\n                return event.originalEvent.touches;\r\n            } else if (event.originalEvent.changedTouches && event.originalEvent.changedTouches.length) {\r\n                return event.originalEvent.changedTouches;\r\n            }\r\n        }\r\n\r\n        if (!event.touches) {\r\n            event.touches = [event.originalEvent];\r\n        }\r\n\r\n        return event.touches;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/touch/TouchService.ts","'use strict';\r\n\r\nexport function routing($stateProvider, $urlRouterProvider) {\r\n\t// Redirect to home view when route not found\r\n\t$urlRouterProvider.otherwise('/');\r\n\r\n\t// Home state routing\r\n\t$stateProvider.\r\n\t\tstate('home', {\r\n\t\t\turl: '/',\r\n\t\t\ttemplateUrl: 'modules/core/views/index.client.view.html'\r\n\t\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/core/config/RouteModule.ts","'use strict';\r\n\r\nimport * as angular from 'angular';\r\n\r\nimport DragBoxModule from './dragBox/DragBoxModule';\r\nimport GameModule from './game/GameModule';\r\nimport GameOverModule from './gameOver/GameOverModule';\r\nimport GameSizeModule from './gameSize/GameSizeModule';\r\nimport LevelModule from './level/LevelModule';\r\nimport LevelSelectModule from './levelSelect/LevelSelectModule';\r\nimport ModeSelectorModule from './modeSelector/ModeSelectorModule';\r\nimport NumberGridModule from './numberGrid/NumberGridModule';\r\nimport NumberLineModule from './numberLine/NumberLineModule';\r\nimport ShellModule from './shell/ShellModule';\r\nimport ShiftServiceModule from './shiftService/ShiftServiceModule';\r\nimport StarRatingModule from './starRating/StarRatingModule';\r\nimport SideLengthServiceModule from './sideLengthService/SideLengthServiceModule';\r\nimport TileModule from './tile/TileModule';\r\nimport TileSizeModule from './tileSize/TileSizeModule';\r\nimport UtilsModule from './utils/UtilsModule';\r\n\r\nimport { LevelsRoutes } from './config/RouteModule';\r\n\r\nexport default angular\r\n    .module('levels', [\r\n        DragBoxModule,\r\n        GameModule,\r\n        GameOverModule,\r\n        GameSizeModule,\r\n        LevelModule,\r\n        LevelSelectModule,\r\n        ModeSelectorModule,\r\n        NumberGridModule,\r\n        NumberLineModule,\r\n        ShellModule,\r\n        ShiftServiceModule,\r\n        StarRatingModule,\r\n        SideLengthServiceModule,\r\n        TileModule,\r\n        TileSizeModule,\r\n        UtilsModule\r\n    ])\r\n    .config(LevelsRoutes.route)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/LevelsModule.ts","import * as angular from 'angular';\r\nimport { DragBoxService } from './DragBoxService';\r\n\r\nexport default angular\r\n    .module('levels.dragBox', [])\r\n    .service(DragBoxService.$name, DragBoxService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/dragBox/DragBoxModule.ts","import { TileService } from '../tile/TileService';\r\nimport { Point } from '../point/Point';\r\n\r\n'use strict';\r\n\r\nexport class DragBoxService {\r\n    static $name = 'dragBoxService';\r\n\r\n    static $inject = [\r\n        'tileService'\r\n    ];\r\n\r\n    private _initState: boolean = true;\r\n\r\n    get initState(): boolean {\r\n        return this._initState;\r\n    }\r\n\r\n    set initState(state: boolean) {\r\n        this._initState = state;\r\n    }\r\n\r\n    private _startCoord: Point;\r\n\r\n    get startCoord(): Point {\r\n        return this._startCoord;\r\n    }\r\n    set startCoord(coord: Point) {\r\n        this._startCoord = coord;\r\n    }\r\n\r\n\r\n    private _endCoord: Point;\r\n\r\n    get endCoord() {\r\n        return this._endCoord;\r\n    }\r\n    set endCoord(coord: Point) {\r\n        this._endCoord = coord;\r\n    }\r\n\r\n    constructor(\r\n        private tileService: TileService\r\n    ) {\r\n\r\n    }\r\n\r\n    clearDragBox(): void {\r\n        this.startCoord = undefined;\r\n        this.endCoord = undefined;\r\n        this.initState = true;\r\n    }\r\n\r\n    /**\r\n     * Change the tiles in the dragbox to the correct state\r\n     */\r\n    fill(override: string): void {\r\n        if (this.validate()) {\r\n            this.tileService.fillTiles(this.process(), this.initState, override);\r\n            this.clearDragBox();\r\n        }\r\n    }\r\n\r\n    \r\n    /*\r\n    * Given a dragbox, return an array of all of the coordinates of included tiles\r\n    */\r\n    process(): Point[] {\r\n        if (!this.validate()) {\r\n            return [];\r\n        }\r\n\r\n        let startX = this.startCoord.x;\r\n        let startY = this.startCoord.y;\r\n        let endX = this.endCoord.x;\r\n        let endY = this.endCoord.y;\r\n        let finalCoords: Point[] = [];\r\n\r\n        if (startX > endX) {\r\n            [endX, startX] = [startX, endX];\r\n        }\r\n\r\n        if (startY > endY) {\r\n            [endY, startY] = [startY, endY];\r\n        }\r\n\r\n        for (let i = startY; i <= endY; i++) {\r\n            for (let j = startX; j <= endX; j++) {\r\n                let coord: Point = {\r\n                    x: j,\r\n                    y: i\r\n                };\r\n\r\n                finalCoords.push(coord);\r\n            }\r\n        }\r\n\r\n        return finalCoords;\r\n    }\r\n\r\n    validateStart(): Point {\r\n        return this.startCoord;\r\n    }\r\n\r\n    validate(): Point {\r\n        return this.startCoord && this.endCoord;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/dragBox/DragBoxService.ts","import * as angular from 'angular';\r\nimport { GameComponent } from './GameComponent';\r\nimport { GameController } from './GameController'\r\n\r\nexport default angular\r\n    .module('levels.game', [])\r\n    .component(GameComponent.$name, new GameComponent())\r\n    .controller(GameController.$name, GameController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/game/GameModule.ts","'use strict';\r\n\r\nexport class GameComponent implements angular.IComponentOptions {\r\n    static $name = 'game';\r\n    bindToController = true;\r\n    controller = 'GameController';\r\n    controllerAs = 'gameCtrl';\r\n    templateUrl = 'modules/levels/game/GameView.html';\r\n\r\n    bindings = {\r\n        gameMatrix: '<',\r\n        goalMatrix: '<',\r\n        level: '<',\r\n        tiles: '<'\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/game/GameComponent.ts","import { DragBoxService } from '../dragBox/DragBoxService';\r\nimport { EventService } from '../../core/eventService/EventService';\r\nimport { GameMatrix } from '../gameMatrix/GameMatrix';\r\nimport { GameOverService } from '../gameOver/GameOverService';\r\nimport { GameSizeService } from '../gameSize/GameSizeService';\r\nimport { ILevel } from \"../level/Level\";\r\nimport { TileSizeService } from '../tileSize/TileSizeService';\r\nimport { TileState } from '../tile/TileState';\r\n\r\n'use strict';\r\n\r\nexport class GameController implements angular.IComponentController {\r\n    static $controllerAs = 'gameCtrl';\r\n    static $name = 'GameController';\r\n\r\n    static $inject = [\r\n        '$element',\r\n        '$scope',\r\n        'eventService',\r\n        'gameOverService',\r\n        'gameSizeService',\r\n        'tileSizeService',\r\n        'dragBoxService'\r\n    ];\r\n\r\n    constructor(\r\n        private $element: angular.IAugmentedJQuery,\r\n        private $scope: angular.IScope,\r\n        private eventService: EventService,\r\n        private gameOverService: GameOverService,\r\n        private gameSizeService: GameSizeService,\r\n        private tileSizeService: TileSizeService,\r\n        private dragBoxService: DragBoxService,\r\n    ) {\r\n\r\n    }\r\n\r\n    private gameMatrix: GameMatrix;\r\n    private goalMatrix: GameMatrix;\r\n    private gameSettings;\r\n    private level: ILevel;\r\n    private margin: number;\r\n    private tiles;\r\n\r\n    $onInit() {\r\n        this.dragBoxService.clearDragBox();\r\n    }\r\n\r\n    $postLink() {\r\n        this.setMargin(this.tileSizeService.getTileSize());\r\n        \r\n        /* not sure if this is still necessary, seems to prevent grab hand from appearing even though draggable is no longer applied */\r\n        this.$element.on('dragstart', (e) => e.preventDefault())\r\n\r\n        // focus the game when the mouse enters it so that the first click will register\r\n        this.$element.on('mouseenter', () => {\r\n            this.$element.find('.inner').focus();\r\n        })\r\n\r\n        // If the user goes too far away from the game area, clear the dragbox and empty the tiles.\r\n        this.$element.on('mouseleave', (e) => {\r\n            e.preventDefault();\r\n            this.applyFillDragBox(TileState.empty);\r\n        });\r\n\r\n        /**\r\n         * If a user starts dragging a tile and their mouse pointer leaves the game area,\r\n         * the area that was highlighted before should stay highlighted,\r\n         * and should activate when the user lets go of the mouse button.\r\n         * When the mouse is released in the game, attempt to process a dragbox and check if the game is won.\r\n         * This event works with the mouseup event in TileController and \r\n         * should always run after that event due to bubbling.\r\n         */\r\n        this.$element.on('mouseup', (e) => this.mouseUpEvent(e));\r\n        this.$element.on('touchend', (e) => {\r\n            e.preventDefault();\r\n            this.mouseUpEvent(e);\r\n        });\r\n        \r\n        this.eventService.subscribe(this.$scope, 'gameSizeChanged', () => {\r\n            this.updateGameSize();\r\n        });\r\n\r\n        this.eventService.subscribe(this.$scope, 'tileSizeChanged', (e, args) => {\r\n            this.setMargin(args);\r\n        });\r\n    }\r\n\r\n    /** Change the tiles inside the dragbox to the specified state\r\n        (pending if being dragged over, selected if mouse released normally,\r\n        marked if shift was held) */\r\n    private applyFillDragBox(override?) {\r\n        this.dragBoxService.fill(override);\r\n        this.$scope.$apply();\r\n    };\r\n\r\n    private mouseUpEvent(event: JQueryEventObject) {\r\n        this.applyFillDragBox();\r\n\r\n        if (this.checkWin()) {\r\n            this.gameOverService.openDialog(this.level);\r\n        }\r\n\r\n        this.$scope.$apply();\r\n    }\r\n\r\n    /**\r\n    * Compare the current state of the game to the correct state\r\n    */\r\n    checkForWin() {\r\n        if (this.goalMatrix) {\r\n            return this.gameMatrix.equals(this.goalMatrix);\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    checkWin() {\r\n        var winner = this.checkForWin();\r\n\r\n        if (winner) {\r\n            this.level.won = true;\r\n            this.$scope.$digest();\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    };\r\n\r\n    setMargin(tileSize: number) {\r\n        this.margin = Math.floor(tileSize) / 2;\r\n    }\r\n\r\n    updateGameSize() {\r\n        // don't use args, call to getGameSize so we take tutorials into account\r\n        var newGameSettings = this.gameSizeService.getGameSize(false);\r\n\r\n        if (newGameSettings) {\r\n            this.gameSettings = {\r\n                width: newGameSettings.gameWidth,\r\n                height: newGameSettings.gameHeight \r\n            }\r\n        }\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/game/GameController.ts","import * as angular from 'angular';\r\nimport { GameOverComponent } from './GameOverComponent';\r\nimport { GameOverController } from './GameOverController';\r\nimport { GameOverService } from './GameOverService';\r\n\r\nexport default angular\r\n    .module('levels.gameOver', [])\r\n    .component(GameOverComponent.$name, new GameOverComponent())\r\n    .controller(GameOverController.$name, GameOverController)\r\n    .service(GameOverService.$name, GameOverService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameOver/GameOverModule.ts","'use strict';\r\n\r\nexport class GameOverComponent implements angular.IComponentOptions {\r\n    static $name = 'gameOver';\r\n    bindToController = true;\r\n    controller = 'GameOverController';\r\n    controllerAs = 'gameOverCtrl';\r\n    templateUrl = 'modules/levels/gameOver/GameOverView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&',\r\n        levelId: '@',\r\n        won: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameOver/GameOverComponent.ts","import { ComponentDialogService } from '../../core/componentDialog/ComponentDialogService';\r\n\r\n'use strict';\r\n\r\nexport class GameOverController implements angular.IComponentController {\r\n    static $controllerAs = 'gameOverCtrl';\r\n    static $name = 'GameOverController';\r\n\r\n    static $inject = [\r\n        'componentDialogService',\r\n    ];\r\n\r\n    constructor(\r\n        private componentDialogService: ComponentDialogService\r\n    ) {\r\n\r\n    }\r\n\r\n    private closeAction: Function;\r\n\r\n    $onInit() {}\r\n\r\n    newLevel() {\r\n        this.closeAction();\r\n        this.componentDialogService.open('level-select');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameOver/GameOverController.ts","import { ILevel } from \"../level/Level\";\r\n\r\n'use strict';\r\n\r\n/** Open the Game Over popup */\r\n\r\nexport class GameOverService {\r\n    static $name = 'gameOverService';\r\n\r\n    static $inject = [\r\n        'ngDialog'\r\n    ];\r\n\r\n    constructor(\r\n        private ngDialog: angular.dialog.IDialogService\r\n    ) {\r\n\r\n    }\r\n\r\n    openDialog(level: ILevel): void {\r\n        this.ngDialog.open({\r\n            plain: true,\r\n            template: `<game-over close-action=\"closeThisDialog()\" level-id=\"${level.id}\" won=\"${level.won}\"></game-over>`,\r\n            showClose: false\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameOver/GameOverService.ts","import * as angular from 'angular';\r\nimport { GameSizeService } from './GameSizeService';\r\n\r\nexport default angular\r\n    .module('levels.gameSize', [])\r\n    .service(GameSizeService.$name, GameSizeService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameSize/GameSizeModule.ts","import { SideLengthService } from '../sideLengthService/SideLengthService';\r\nimport { TileSizeService } from '../tileSize/TileSizeService';\r\n\r\n'use strict';\r\n\r\nexport class GameSizeService {\r\n    static $name = 'gameSizeService';\r\n\r\n    static $inject = [\r\n        '$rootScope',\r\n        '$timeout',\r\n        'sideLengthService',\r\n        'tileSizeService'\r\n    ];\r\n\r\n    private gameHeight: string;\r\n    private gameWidth: string;\r\n    private playableAreaSize: number;\r\n    private tutorialDivider: number = 4;\r\n\r\n    constructor(\r\n        private $rootScope: angular.IRootScopeService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private sideLengthService: SideLengthService,\r\n        private tileSizeService: TileSizeService\r\n    ) {\r\n        \r\n    }\r\n\r\n     /* Take a given game width and subtract border widths. I either have to do this\r\n        or remove border-box and add them instead... doesn't really matter */\r\n    private adjustForBorders(width) {\r\n        var borderWidth = 1;\r\n\r\n        /* 18 is a bit of a magic number, I worked backwards from determining how much extra space\r\n            the game had based on sideLength */ \r\n        return width - ((borderWidth * this.sideLengthService.sideLength) + (18 - this.sideLengthService.sideLength)); \r\n    }\r\n\r\n    \r\n    /** Return the width of the main section of the game so we can calculate game and tile sizes off of it */\r\n    calculatePlayableArea() {\r\n        var pHeight = window.innerHeight,\r\n            pWidth = window.innerWidth;\r\n    \r\n        this.playableAreaSize = Math.min(pHeight, pWidth);\r\n    \r\n        return Math.floor(this.playableAreaSize); \r\n    }\r\n\r\n     /* Return the current game size (width and height in pixels of the game field, changes depending on number of tiles) */\r\n    getGameSize(tutorialMode) {\r\n        // height/width will probably come in as px\r\n        var intHeight = parseInt(this.gameHeight, 10),\r\n            intWidth = parseInt(this.gameWidth, 10);\r\n\r\n        return {\r\n            gameHeight: tutorialMode ? intHeight / this.tutorialDivider : this.gameHeight,\r\n            gameWidth: tutorialMode ? intWidth / this.tutorialDivider : this.gameWidth\r\n        };\r\n    }\r\n\r\n     /* Modify the current game size. */\r\n    setGameSize(widthInTiles) {\r\n        var finalWidth = Math.floor(this.playableAreaSize / 1.6),\r\n            finalHeight;\r\n\r\n        finalWidth = this.adjustForBorders(finalWidth);\r\n\r\n        finalHeight = finalWidth;\r\n        this.gameWidth = finalWidth + 'px';\r\n        this.gameHeight = finalHeight + 'px';\r\n\r\n        this.$timeout(() => {\r\n            this.$rootScope.$broadcast('gameSizeChanged', { width: this.gameWidth, height: this.gameHeight });\r\n        });\r\n        \r\n        this.tileSizeService.setTileSize(finalWidth, widthInTiles);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameSize/GameSizeService.ts","import * as angular from 'angular';\r\nimport { LevelResource } from './LevelResource';\r\n\r\nimport { LevelComponent } from './LevelComponent';\r\nimport { LevelController } from './LevelController';\r\nimport { LevelService } from './LevelService';\r\n\r\nexport default angular\r\n    .module('levels.level', [])\r\n    .component(LevelComponent.$name, new LevelComponent())\r\n    .controller(LevelController.$name, LevelController)\r\n    .factory('Levels', LevelResource)\r\n    .service(LevelService.$name, LevelService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/level/LevelModule.ts","export function LevelResource($resource) {\r\n    return $resource('levels/:levelId', { levelId: '@id'\r\n         }, {\r\n             update: {\r\n                 method: 'PUT'\r\n             },\r\n             query: {\r\n                 isArray: false\r\n             }\r\n         }); \r\n }\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/level/LevelResource.ts","'use strict'\r\n\r\nexport class LevelComponent {\r\n    static $name = 'level';\r\n    bindToController = true;\r\n    controller = 'LevelController';\r\n    controllerAs = 'levelCtrl';\r\n    templateUrl = 'modules/levels/level/LevelView.html';\r\n\r\n    bindings = {\r\n        controller: '@'\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/level/LevelComponent.ts","import * as angular from 'angular';\r\n\r\nimport { AuthenticationService } from '../../users/authentication/AuthenticationService'\r\nimport { ComponentDialogService } from '../../core/componentDialog/ComponentDialogService';\r\nimport { EventService } from '../../core/eventService/EventService';\r\nimport { ILevel } from \"../level/Level\";\r\nimport { GameMatrix } from '../gameMatrix/GameMatrix';\r\nimport { GameSizeService } from '../gameSize/GameSizeService';\r\nimport { LevelService } from './LevelService';\r\nimport { ShiftService } from '../shiftService/ShiftService';\r\nimport { Utils } from '../utils/Utils';\r\n\r\n'use strict';\r\n\r\nexport class LevelController implements angular.IComponentController {\r\n    static $controllerAs = 'levelCtrl';\r\n    static $name = 'LevelController';\r\n\r\n    static $inject = [\r\n        '$http',\r\n        '$scope',\r\n        '$state',\r\n        '$stateParams',\r\n        '$timeout',\r\n        'Authentication',\r\n        'componentDialogService',\r\n        'eventService',\r\n        'gameSizeService',\r\n        'levelService',\r\n        'Levels',\r\n        'ngDialog',\r\n        'shiftService',\r\n        'Utils'\r\n    ];\r\n\r\n    private finalLayout: any = {};\r\n\r\n    private options = {\r\n        size: 25\r\n    };\r\n\r\n    constructor(\r\n        private $http: angular.IHttpService,\r\n        private $scope: angular.IScope,\r\n        private $state: angular.ui.IStateService,\r\n        private $stateParams: any,\r\n        private $timeout: angular.ITimeoutService,\r\n        private Authentication: AuthenticationService,\r\n        private componentDialogService: ComponentDialogService,\r\n        private eventService: EventService,\r\n        private gameSizeService: GameSizeService,\r\n        private levelService: LevelService,\r\n        private Levels,\r\n        private ngDialog,\r\n        private shiftService: ShiftService,\r\n        private Utils: Utils\r\n    ) {\r\n        \r\n    }\r\n\r\n    private mode: string; // string for edit, new, etc.\r\n    private level: ILevel;\r\n    private margin: number;\r\n    private selectedLevelId;\r\n    private error;\r\n    private timeout = 1000;\r\n\r\n    private gameMatrix: GameMatrix;\r\n    private goalMatrix: GameMatrix;\r\n\r\n    $onInit() {\r\n        this.selectedLevelId = this.$stateParams['levelId'];\r\n        this.mode = this.$stateParams.mode;\r\n        this.findOne(this.mode);\r\n    }\r\n\r\n    $postLink() {\r\n        this.eventService.subscribe(this.$scope, 'tileSizeChanged', (e, args) => {\r\n            let newSize = Math.floor(args);\r\n            this.margin = newSize / 2;\r\n        });\r\n    }\r\n\r\n    clearAll() {\r\n        this.Utils.clearAll();\r\n    }\r\n\r\n    confirmClear() {\r\n        this.ngDialog.openConfirm({\r\n            closeByDocument: false,\r\n            plain: true,\r\n            scope: this.$scope,\r\n            showClose: false,\r\n            template: `<confirmation\r\n                        cancel-action=\"closeThisDialog()\"\r\n                        confirm-action=\"confirm()\"\r\n                        submit-action=\"levelCtrl.clearAll()\"\r\n                        submit-text=\"Clear\"></confirmation>`\r\n        });\r\n    };\r\n\r\n    confirmRemove() {\r\n        this.ngDialog.openConfirm({\r\n            closeByDocument: false,\r\n            plain: true,\r\n            scope: this.$scope,\r\n            showClose: false,\r\n            template: `<confirmation\r\n                        cancel-action=\"closeThisDialog()\"\r\n                        confirm-action=\"confirm()\"\r\n                        submit-action=\"levelCtrl.removeCurrentLevel()\"\r\n                        submit-text=\"Delete\"></confirmation>`\r\n        });\r\n    };\r\n\r\n    confirmUpdate() {\r\n        this.ngDialog.openConfirm({\r\n            closeByDocument: false,\r\n            plain: true,\r\n            scope: this.$scope,\r\n            showClose: false,\r\n            template: `<confirmation\r\n                        cancel-action=\"closeThisDialog()\"\r\n                        confirm-action=\"confirm()\"\r\n                        submit-action=\"levelCtrl.update()\"\r\n                        submit-text=\"Update\"></confirmation>`\r\n        });\r\n    };\r\n\r\n     /** Create new Level (submit function) */\r\n    create(level, successFunc, failFunc) {\r\n        // Redirect after save\r\n        level.$save(function(response) {\r\n            if (typeof successFunc === 'function') {\r\n                successFunc(response);\r\n            }\r\n        }, function(errorResponse) {\r\n            if (typeof failFunc === 'function') {\r\n                failFunc(errorResponse);\r\n            }\r\n        });\r\n    }\r\n\r\n    createGameArray(controller) {\r\n        this.Utils.createNewGame({\r\n            numberOfTiles: this.options.size,\r\n            controller: controller\r\n        });\r\n    }\r\n\r\n    // Create new level (load template)\r\n    createNewLevel() {\r\n        var action: 'new' = 'new';\r\n        var oldLevel = angular.copy(this.level);\r\n\r\n        this.clearAll()\r\n\r\n        this.level = undefined;\r\n\r\n        this.createGameArray(action);\r\n        this.getLayoutForRepeater(action);\r\n\r\n        this.level = {\r\n            currentView: action,\r\n            ready: true,\r\n            name: oldLevel ? oldLevel.name : ''\r\n        };\r\n\r\n        this.gameMatrix = new GameMatrix(this.Utils.getGameMatrix(), false);\r\n    }\r\n\r\n    // Find existing Level\r\n    findOne(mode) {\r\n        this.finalLayout = {};\r\n        this.level = null;\r\n\r\n        // store the name of the controller so we can have the same functions do different things\r\n        // depending on new, edit, etc.\r\n        this.mode = mode;\r\n\r\n        if (this.selectedLevelId) {\r\n            this.Levels.get({ \r\n                levelId: this.selectedLevelId\r\n            }).$promise.then((data) => {\r\n                this.level = data;\r\n                \r\n                this.setRating();\r\n\r\n                this.level.layout = this.levelService.decodeLayout(data.layout);\r\n\r\n                var flatLayout = this.Utils.flatten(this.level.layout);\r\n\r\n                this.gameSizeService.calculatePlayableArea();\r\n\r\n                this.Utils.createNewGame({\r\n                    numberOfTiles: flatLayout.length,\r\n                    layout: this.level.layout,\r\n                    controller: mode\r\n                });\r\n\r\n                this.gameMatrix = new GameMatrix(this.Utils.getGameMatrix(), mode == 'edit');\r\n\r\n                let goalLayout = this.Utils.getGoalMatrix();\r\n\r\n                if (goalLayout) {\r\n                    this.goalMatrix = new GameMatrix(goalLayout, true);\r\n                }\r\n\r\n                this.getLayoutForRepeater(mode, this.level.layout);\r\n                this.level.currentView = mode;\r\n\r\n                this.level.won = false;\r\n                this.level.ready = true;\r\n            });\r\n        } else {\r\n            this.createNewLevel();\r\n        }\r\n    }\r\n\r\n    getLayoutForRepeater(mode, layout?) {\r\n        // use finalLayout from above to prevent calculating this more than once \r\n        let layoutForRepeater;\r\n\r\n        switch(mode) {\r\n            case 'view':\r\n            case 'edit':\r\n                layoutForRepeater = this.Utils.flatten(layout);\r\n                break;\r\n\r\n            case 'new':\r\n                layoutForRepeater = this.getSize();\r\n                break;\r\n        }\r\n\r\n        // these should be an object so i don't have to track by $index, which causes rendering issues\r\n        this.finalLayout.tiles = layoutForRepeater.map((value) => {\r\n            return {\r\n                selected: value\r\n            };\r\n        });\r\n    }\r\n\r\n    getSize() {\r\n        let gameMatrix = this.Utils.getGameMatrix();\r\n        return gameMatrix.flatten();\r\n    }\r\n\r\n    keydown($event: JQueryEventObject) {\r\n        if ($event.shiftKey) {\r\n            this.shiftService.shiftOn = true;\r\n        }\r\n    }\r\n\r\n    keyup($event: JQueryEventObject) {\r\n        if (!$event.shiftKey) {\r\n            this.shiftService.shiftOn = false;\r\n        }\r\n    }\r\n    \r\n    /* Doing this old school until I figure out a better way */\r\n    rate() {\r\n        this.$timeout(() => {\r\n            var url = '/levels/' + this.level.id + '/ratings';\r\n\r\n            var post_data = {\r\n                rating: this.level.yourRating\r\n            };\r\n\r\n            this.$http.post(url, post_data).then(function() {\r\n                console.log('omg');\r\n            });\r\n        });\r\n    }\r\n\r\n     /** Remove any Level passed in */\r\n    remove(level) {\r\n        if (level) { \r\n            level.$remove(() => {\r\n                this.componentDialogService.open('level-select');\r\n            });\r\n        }\r\n    }\r\n\r\n    /** Remove the level you're looking at */\r\n    removeCurrentLevel() {\r\n        this.remove(this.level);\r\n    }\r\n\r\n    /** This should be done on the server side, todo */\r\n    setRating() {\r\n        if (this.level.ratings && this.level.ratings.length) {\r\n            this.level.yourRating = this.level.ratings[0].rating;\r\n        }\r\n    }\r\n\r\n    // Split out for easier testing\r\n    submitCreate() {\r\n        // Create new Level object\r\n        var level = new this.Levels ({\r\n            name: this.level.name,\r\n            layout: this.gameMatrix.horizontal.getLayout(),\r\n            size: this.gameMatrix.horizontal.length\r\n        });\r\n\r\n        var levelSaveSuccess = (response) => {\r\n            this.$state.go('update-level', { levelId: response.id }, { reload: true });\r\n        };\r\n\r\n        var levelSaveFailure = (err) => {\r\n            this.error = err.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.error = '';\r\n            }, this.timeout)\r\n        }\r\n\r\n        this.create(level, levelSaveSuccess, levelSaveFailure);\r\n    }\r\n\r\n    // Update existing Level\r\n    update() {\r\n        this.updateLevel(this.level);\r\n    };\r\n\r\n    updateLevel(level) {\r\n        level.size = level.layout.length;\r\n\r\n        level.$update(() => {\r\n           this.$state.go('update-level', { levelId: level.id }, { reload: true }); \r\n        }, function(errorResponse) {\r\n            this.error = errorResponse.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.error = null;\r\n            }, this.timeout);\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/level/LevelController.ts","import { BooleanMatrix } from '../matrix/BooleanMatrix';\r\nimport { IEquatable } from '../../core/equatable/IEquatable';\r\n\r\nexport class GameMatrix implements IEquatable<GameMatrix> {\r\n    public horizontal: BooleanMatrix;\r\n    public vertical: BooleanMatrix;\r\n\r\n    constructor(layout: BooleanMatrix, initialize: boolean) {\r\n        this.horizontal = new BooleanMatrix(layout.length, layout.length);\r\n\r\n        if (initialize) {\r\n            this.horizontal.copyFrom(layout);\r\n        }\r\n\r\n        this.vertical = this.horizontal.rotate();\r\n    }\r\n\r\n    public equals(other: GameMatrix) {\r\n        return this.horizontal.equals(other.horizontal);\r\n    }\r\n\r\n    public setValueAt(row: number, column: number, value: boolean) {\r\n        this.horizontal.setValueAt(row, column, value);\r\n        this.vertical = this.horizontal.rotate();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/gameMatrix/GameMatrix.ts","import * as angular from 'angular';\r\nimport { IEquatable } from '../../core/equatable/IEquatable';\r\n\r\n/**\r\n * Container for a 2D array\r\n * A lot of this still assumes all matrices are square. Will fix if ever necessary.\r\n */\r\n\r\nexport class Matrix<T> implements IEquatable<Matrix<T>> {\r\n    protected matrix: T[][];\r\n\r\n    constructor(rowCount: number, colCount: number) {\r\n        this.matrix = this.createMatrix(rowCount, colCount);\r\n    }\r\n\r\n    get length() {\r\n        return this.matrix.length;\r\n    }\r\n\r\n    private createMatrix(rowCount: number, colCount: number): T[][] {\r\n        let finalMatrix = [];\r\n\r\n        for (let i = 0; i < rowCount; i++) {\r\n            finalMatrix.push(new Array(colCount));\r\n        }\r\n\r\n        return finalMatrix;\r\n    }\r\n\r\n    copyFrom(source: Matrix<T>) {\r\n        this.matrix = source.matrix;\r\n    }\r\n\r\n    /** Return a COPY of the current layout to preserve encapsulation -- you shouldn't be able to modify a matrix by normal means */\r\n    getLayout() {\r\n        return angular.copy(this.matrix);\r\n    }\r\n\r\n    equals(other: Matrix<T>) {\r\n        return angular.equals(this.matrix, other.matrix);\r\n    }\r\n\r\n    initializeWith(values: T[][]) {\r\n        this.matrix = values;\r\n    }\r\n\r\n    /* Perform the passed-in function on every cell of the matrix */\r\n    iterate(fn: (row, column) => void) {\r\n        let rowLen = this.matrix.length;\r\n\r\n        for (let i = 0; i < rowLen; i++) {\r\n            let columnLen = this.matrix[i].length;\r\n\r\n            for (let j = 0; j < columnLen; j++) {\r\n                fn(i, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    clear() {\r\n    }\r\n\r\n    flatten() {\r\n        return Array.prototype.concat.apply([], this.matrix);\r\n    }\r\n\r\n    /** Create a new matrix of equal size to the one passed in, and assign it to the original rotated 90 degrees */\r\n    rotate() {\r\n        let rotatedMatrix = new Matrix<T>(this.matrix.length, this.matrix.length);\r\n\r\n        rotatedMatrix.iterate((row, column) => {\r\n            let y = this.matrix.length - row - 1;\r\n            let x = column;\r\n    \r\n            rotatedMatrix.setValueAt(column, row, this.matrix[y][x]);\r\n        });\r\n            \r\n        return rotatedMatrix; \r\n    }\r\n\r\n    getValueAt(row: number, column: number) {\r\n        return this.matrix[row][column];\r\n    }\r\n\r\n    setValueAt(row: number, column: number, value: T) {\r\n        this.matrix[row][column] = value;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/matrix/Matrix.ts","import { BooleanMatrix } from '../matrix/BooleanMatrix';\r\n\r\n'use strict';\r\n\r\nexport class LevelService {\r\n    static $name = 'levelService';\r\n\r\n    static $inject = [];\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    /**\r\n     * Converts a base64 string that decodes into a binary string into a layout\r\n     * This assumes the layout was square, like most everything else\r\n     */\r\n    decodeLayout(layout): Boolean[][] {\r\n        // base64 string to binary string\r\n        var binary: string = atob(layout);\r\n\r\n        // how many characters of that binary string we should grab at once\r\n        var sideLength = Math.sqrt(binary.length);\r\n\r\n        var regexp = new RegExp('.{1,' + sideLength + '}', 'g');\r\n\r\n        // evenly split up binary strings\r\n        var split: string[] = binary.match(regexp);\r\n\r\n        // convert to actual layout\r\n        var resultLayout = split.map(function(binaryString) {\r\n            return binaryString.split('').map(function(value) {\r\n                return value === '1';\r\n            });\r\n        });\r\n\r\n        return resultLayout;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/level/LevelService.ts","import * as angular from 'angular';\r\nimport { LevelSelectComponent } from './LevelSelectComponent'\r\nimport { LevelSelectController } from './LevelSelectController'\r\n\r\nexport default angular\r\n    .module('levels.levelSelect', [])\r\n    .component(LevelSelectComponent.$name, new LevelSelectComponent())\r\n    .controller(LevelSelectController.$name, LevelSelectController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/levelSelect/LevelSelectModule.ts","'use strict';\r\n\r\nexport class LevelSelectComponent implements angular.IComponentOptions {\r\n    static $name = 'levelSelect';\r\n    bindToController = true;\r\n    controller = 'LevelSelectController';\r\n    controllerAs = 'levelSelectCtrl';\r\n    templateUrl = 'modules/levels/levelSelect/LevelSelectView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/levelSelect/LevelSelectComponent.ts","import { AuthenticationService } from '../../users/authentication/AuthenticationService'\r\nimport { Utils } from '../utils/Utils';\r\n\r\n'use strict';\r\n\r\nexport class LevelSelectController implements angular.IComponentController {\r\n    static $controllerAs = 'levelSelectCtrl';\r\n    static $name = 'LevelSelectController';\r\n\r\n    static $inject = [\r\n        'Authentication',\r\n        'Levels',\r\n        'Utils'\r\n    ];\r\n\r\n    constructor(\r\n        private Authentication: AuthenticationService,\r\n        private Levels: any,\r\n        private Utils: Utils\r\n    ) {\r\n\r\n    }\r\n\r\n    private currentPage: number = 0;\r\n    private showFilter: boolean;\r\n    private sizeRestriction: string = '';\r\n    private searchText: string = ''\r\n    private sortBy: string = '\"createdAt\"';\r\n    private sortDirection: string = '';\r\n    private totalPages: number;\r\n    private levels;\r\n\r\n    $onInit() {}\r\n\r\n    /* Find a list of levels */\r\n    find(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n\r\n        var queryObj = {\r\n            pageNum: currentPage,\r\n            sizeRestriction: this.sizeRestriction,\r\n            searchText: this.searchText,\r\n            sortBy: this.sortBy,\r\n            sortDirection: this.sortDirection\r\n        };\r\n    \r\n        this.Levels.query(queryObj, (data) => {\r\n            var i = 0,\r\n                allLevels = data.levels,\r\n                len = allLevels ? allLevels.length : 0,\r\n                currentLevel;\r\n\r\n            this.totalPages = Math.ceil(data.count / data.numPerPage);\r\n            this.levels = data.levels;\r\n\r\n            // Calculate the size for each level so we can display it to the screen & sort by size\r\n            for (; i < len; i++ ) {\r\n                currentLevel = allLevels[i];\r\n                currentLevel.prettySize = this.Utils.prettySize(currentLevel.size);\r\n            }\r\n        }); \r\n    }\r\n\r\n    toggleShowFilter() {\r\n        this.showFilter = !this.showFilter;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/levelSelect/LevelSelectController.ts","import * as angular from 'angular';\r\nimport { ModeSelectorComponent } from './ModeSelectorComponent';\r\nimport { ModeSelectorController } from './ModeSelectorController';\r\n\r\nexport default angular\r\n    .module('levels.modeSelector', [])\r\n    .component(ModeSelectorComponent.$name, new ModeSelectorComponent())\r\n    .controller(ModeSelectorController.$name, ModeSelectorController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/modeSelector/ModeSelectorModule.ts","'use strict';\r\n\r\nexport class ModeSelectorComponent implements angular.IComponentOptions {\r\n    static $name = 'modeSelector';\r\n    controller = 'ModeSelectorController';\r\n    controllerAs = 'modeSelectorCtrl';\r\n    templateUrl = 'modules/levels/modeSelector/ModeSelectorView.html';\r\n\r\n    bindings = {\r\n\r\n    };\r\n\r\n    bindToController = true;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/modeSelector/ModeSelectorComponent.ts","import { ShiftService } from '../shiftService/ShiftService';\r\n\r\n'use strict';\r\n\r\nexport class ModeSelectorController implements angular.IComponentController {\r\n    static $name = 'ModeSelectorController';\r\n\r\n    static $inject = [\r\n        'shiftService'\r\n    ];\r\n\r\n    constructor(\r\n        private shiftService: ShiftService\r\n    ) {\r\n\r\n    }\r\n\r\n    private modes: IMode[]; \r\n    private selectedMode: string;\r\n\r\n    $onInit() {\r\n        this.modes = [\r\n            {\r\n                name: 'Select',\r\n                onSelect: () => this.shiftService.shiftLock = false\r\n            },\r\n            {\r\n                name: 'Mark',\r\n                onSelect: () => this.shiftService.shiftLock = true\r\n            }\r\n        ];\r\n\r\n        this.selectMode(this.modes[0]);\r\n    }\r\n\r\n    selectMode(mode: IMode) {\r\n        this.selectedMode = mode.name;\r\n\r\n        mode.onSelect();\r\n    }\r\n}\r\n\r\ninterface IMode {\r\n    name: string;\r\n    onSelect: Function;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/modeSelector/ModeSelectorController.ts","import * as angular from 'angular';\r\nimport { NumberGridComponent } from './NumberGridComponent';\r\nimport { NumberGridController } from './NumberGridController';\r\n\r\nexport default angular\r\n    .module('levels.numberGrid', [])\r\n    .component(NumberGridComponent.$name, new NumberGridComponent())\r\n    .controller(NumberGridController.$name, NumberGridController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberGrid/NumberGridModule.ts","'use strict';\r\n\r\nexport class NumberGridComponent implements angular.IComponentOptions {\r\n    static $name = 'numberGrid';\r\n    controller = 'NumberGridController';\r\n    controllerAs = 'numGridCtrl'\r\n    templateUrl = 'modules/levels/numberGrid/NumberGridView.html';\r\n\r\n    bindings = {\r\n        gameMatrix: '<',\r\n        goalMatrix: '<',\r\n        orientation: '@',\r\n    };\r\n\r\n    bindToController = true;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberGrid/NumberGridComponent.ts","import { BooleanMatrix } from '../matrix/BooleanMatrix'\r\nimport { EventService } from '../../core/eventService/EventService';\r\nimport { TileSizeService } from '../tileSize/TileSizeService';\r\n\r\n'use strict';\r\n\r\nexport class NumberGridController implements angular.IComponentController {\r\n    static $name = 'NumberGridController';\r\n\r\n    static $inject = [\r\n        '$scope',\r\n        'eventService',\r\n        'tileSizeService'\r\n    ];\r\n\r\n    constructor(\r\n        private $scope: angular.IScope,\r\n        private eventService: EventService,\r\n        private tileSizeService: TileSizeService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** The top row is considered vertical because the numbers go from top to bottom */\r\n    private isVertical: boolean;\r\n\r\n    // At this level and below we're working with the individual rotated pieces, not the full thing\r\n    private gameMatrix: BooleanMatrix;\r\n    private goalMatrix: BooleanMatrix;\r\n\r\n    private orientation: string;\r\n\r\n    private tileSize: string;\r\n\r\n    $onInit() {\r\n        this.isVertical = this.orientation === 'vertical';\r\n        this.setTileSize();\r\n    }\r\n\r\n    $postLink() {\r\n        this.eventService.subscribe(this.$scope, 'tileSizeChanged', () => {\r\n            this.setTileSize();\r\n        });\r\n    }\r\n\r\n    private setTileSize() {\r\n        this.tileSize = this.tileSizeService.getTileSizePx();\r\n    }\r\n\r\n    getFontSize() {\r\n        return parseInt(this.tileSize, 10) / 2 + 'px';\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberGrid/NumberGridController.ts","import * as angular from 'angular';\r\nimport { NumberLineComponent } from './NumberLineComponent';\r\nimport { NumberLineController } from './NumberLineController';\r\n\r\nexport default angular\r\n    .module('levels.numberLine', [])\r\n    .component(NumberLineComponent.$name, new NumberLineComponent())\r\n    .controller(NumberLineController.$name, NumberLineController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberLine/NumberLineModule.ts","import { NumberLineController } from './NumberLineController';\r\nimport { Point } from '../point/Point'\r\n\r\n'use strict';\r\n\r\nexport class NumberLineComponent implements angular.IComponentOptions {\r\n\tstatic $name = 'numberLine';\r\n\tcontroller = 'NumberLineController';\r\n\tcontrollerAs = 'numLineCtrl';\r\n\ttemplateUrl = 'modules/levels/numberLine/NumberLineView.html';\r\n\r\n\tbindings = {\r\n\t\tindex: '<',\r\n\t\torientation: '@',\r\n\t\tgameMatrix: '<',\r\n\t\tgoalMatrix: '<'\r\n\t};\r\n\r\n\tbindToController = true;\r\n\r\n\tconstructor(\r\n\r\n\t) {\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberLine/NumberLineComponent.ts","\r\nimport { BooleanMatrix } from '../matrix/BooleanMatrix'\r\nimport { LineContent } from '../lineContent/LineContent';\r\nimport { Point } from '../point/Point'\r\nimport { SideLengthService } from '../sideLengthService/SideLengthService';\r\nimport { TileGroup } from '../tileGroup/TileGroup';\r\nimport { TileSizeService } from '../tileSize/TileSizeService';\r\n\r\n'use strict';\r\n\r\nexport class NumberLineController {\r\n    static $inject = [\r\n        'sideLengthService',\r\n        'tileSizeService'\r\n    ]\r\n\r\n    static $name = 'NumberLineController';\r\n\r\n    private cssClass = '';\r\n    private gameMatrix: BooleanMatrix;\r\n    private goalMatrix: BooleanMatrix;\r\n\r\n    constructor(\r\n        private sideLengthService: SideLengthService,\r\n        private tileSizeService: TileSizeService,\r\n    ) {\r\n    }\r\n\r\n    $onInit() {\r\n        this.sideLength = this.sideLengthService.sideLength;\r\n    }\r\n\r\n    private sideLength: number;\r\n    private lineContent: LineContent[] = [];\r\n    private currentGroup: TileGroup = new TileGroup();\r\n    private hasGroup: boolean = false;\r\n\r\n    private index: number;\r\n    private orientation: string;\r\n\r\n    // display a crossed out 0 if the linecontent comes back with no content. otherwise, pass through\r\n    private accountForZeros(lineContent: LineContent[]): LineContent[] {\r\n        if (lineContent.length === 0) {\r\n            return [{\r\n                finished: true,\r\n                text: 0\r\n            }];\r\n        } else {\r\n            return lineContent;\r\n        }\r\n    }\r\n\r\n    /* When computing number lines for the top part, we need to reverse the results\r\n        before joining them for display, so they will appear in the correct order */\r\n    private adjustContentForOrientation(lineContent: LineContent[], orientation: string): LineContent[] {\r\n        if (orientation === 'vertical') {\r\n            lineContent = lineContent.reverse();\r\n        };\r\n\r\n        return lineContent;\r\n    }\r\n\r\n    /* Given a matrix index for a row or column and an indication for which it is,\r\n        calculate groups of consective tiles in that row or column */\r\n    private calculateGroup(index: number, orientation: string): TileGroup {\r\n        let groupCount: number = 0;\r\n        let currentGroup: TileGroup = new TileGroup();\r\n        let resetInd: boolean = true;\r\n        let coord: Point = { x: undefined, y: undefined };\r\n\r\n        // Loop through the row, building a separate count for each group of consecutive true tiles\r\n        for (var i = 0; i < this.sideLength; i++) {\r\n            // If the rotated goal matrix contains a true tile at the current index...\r\n            if (this.goalMatrix.getValueAt(index, i)) {\r\n                if (!currentGroup[groupCount]) {    \r\n                    currentGroup[groupCount] = [];\r\n                }\r\n\r\n                // Add the tile to the grouping.\r\n                currentGroup[groupCount].push(\r\n                    {\r\n                        coord: {\r\n                            y: index,\r\n                            x: i\r\n                        },\r\n                        currentValue: this.gameMatrix.getValueAt(index, i),\r\n                        goalValue: this.goalMatrix.getValueAt(index, i)\r\n                    }\r\n                );\r\n\r\n                resetInd = true;\r\n            } else {\r\n                if (resetInd) {\r\n                    groupCount++;\r\n                }\r\n\r\n                resetInd = false;\r\n            }\r\n        };\r\n\r\n        return currentGroup;\r\n    }\r\n\r\n    /* To compute the number lines for the current row or column, we need to find the length of each grouping */\r\n    private getGroupings(currentGroup: TileGroup): LineContent[] {\r\n        return Object.keys(currentGroup).map((value, index) => {\r\n            return {\r\n                finished: false,\r\n                text: currentGroup[value].length\r\n            };\r\n        });\r\n    }\r\n\r\n    /* For a given row or column, compute its number line (guide numbers on the sides of the board) */\r\n    private getLineContent(): LineContent[] {\r\n        if (!this.hasGroup) {\r\n            this.currentGroup = this.calculateGroup(this.index, this.orientation);\r\n            this.hasGroup = true;\r\n            this.lineContent = this.accountForZeros(this.adjustContentForOrientation(this.getGroupings(this.currentGroup), this.orientation));\r\n        }\r\n\r\n        return this.lineContent;\r\n    }\r\n\r\n    private getHeight(): string {\r\n        var tileSize: number = this.tileSizeService.getTileSize();        \r\n\r\n        return this.orientation === 'vertical' ? (tileSize / 2) + 'px' : tileSize + 'px';\r\n    }\r\n\r\n    private getWidth(): string {\r\n        var tileSize: number = this.tileSizeService.getTileSize();\r\n\r\n        return this.orientation === 'horizontal' ? (tileSize / 2) + 'px' : tileSize + 'px';\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/numberLine/NumberLineController.ts","import { Point } from '../point/Point';\r\n\r\nexport class TileGroup {\r\n    coord: Point;\r\n    currentValue: boolean;\r\n    goalValue: boolean;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tileGroup/TileGroup.ts","import * as angular from 'angular';\r\nimport { ShellComponent } from './ShellComponent';\r\nimport { ShellController } from './ShellController';\r\n\r\nexport default angular\r\n    .module('levels.shell', [])\r\n    .component(ShellComponent.$name, new ShellComponent())\r\n    .controller(ShellController.$name, ShellController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/shell/ShellModule.ts","'use strict';\r\n\r\n/** Enable us to share an instance of levelCtrl between the header & the level */\r\n\r\nexport class ShellComponent implements angular.IComponentOptions {\r\n    static $name = 'krossrShell';\r\n    bindToController = true;\r\n    controller = 'ShellController';\r\n    controllerAs = 'shellCtrl';\r\n    transclude = true;\r\n\r\n    template = `\r\n      <krossr-header data-level=\"level\"></krossr-header>\r\n      <section id=\"main-section\" class=\"content\" resize>\r\n        <ng-transclude></ng-transclude>\r\n      </section> \r\n    `;\r\n\r\n    constructor() {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/shell/ShellComponent.ts","'use strict';\r\n\r\nexport class ShellController implements angular.IComponentController {\r\n    static $controllerAs = 'shellCtrl';\r\n    static $name = 'ShellController'; \r\n\r\n    static $inject = [\r\n    ];\r\n\r\n\r\n    constructor(\r\n    ) {\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/shell/ShellController.ts","import * as angular from 'angular';\r\nimport { ShiftService } from './ShiftService';\r\n\r\nexport default angular\r\n    .module('levels.shiftService', [])\r\n    .service(ShiftService.$name, ShiftService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/shiftService/ShiftServiceModule.ts","'use strict';\r\n\r\nexport class ShiftService {\r\n    static $name = 'shiftService';\r\n    private _shiftLock: boolean = false;\r\n    private _shiftOn: boolean = false;\r\n\r\n    get shiftOn(): boolean {\r\n        return this._shiftLock || this._shiftOn;\r\n    }\r\n\r\n    set shiftOn(value: boolean) {\r\n        this._shiftOn = value;\r\n    }\r\n\r\n    set shiftLock(value: boolean) {\r\n        this._shiftLock = value;\r\n    }\r\n\r\n    constructor() {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/shiftService/ShiftService.ts","import * as angular from 'angular';\r\nimport { StarRatingComponent } from './StarRatingComponent';\r\nimport { StarRatingController } from './StarRatingController';\r\n\r\nexport default angular\r\n    .module('levels.starRating', [])\r\n    .component(StarRatingComponent.$name, new StarRatingComponent())\r\n    .controller(StarRatingController.$name, StarRatingController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/starRating/StarRatingModule.ts","'use strict';\r\n\r\nexport class StarRatingComponent implements angular.IComponentOptions {\r\n    static $name = 'starRating';\r\n    bindToController = true;\r\n    controller = 'StarRatingController';\r\n    controllerAs = 'starRatingCtrl';\r\n    templateUrl = 'modules/levels/starRating/StarRatingView.html';\r\n\r\n    bindings = {\r\n        ratingValue: '=ngModel',\r\n        max: '<?',\r\n        onRatingSelected: '&?',\r\n        readOnly: '<?readonly'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/starRating/StarRatingComponent.ts","'use strict';\r\n\r\nexport class StarRatingController implements angular.IComponentController {\r\n    static $controllerAs = 'starRatingCtrl';\r\n    static $name = 'StarRatingController';\r\n\r\n    static $inject = [\r\n        '$scope'\r\n    ];\r\n\r\n    constructor(\r\n        private $scope: angular.IScope\r\n    ) {\r\n        \r\n    }\r\n\r\n    private max: number = 5;\r\n    private onRatingSelected: Function;\r\n    private ratingValue: number;\r\n    private readOnly;\r\n    private stars: any[];\r\n\r\n    private updateStars() {\r\n        this.stars = [];\r\n\r\n        for (let i = 0; i < this.max; i++) {\r\n            this.stars.push({\r\n                filled: i < this.ratingValue\r\n            })\r\n        }\r\n    }\r\n\r\n    $onInit() {\r\n        this.updateStars();\r\n    }\r\n\r\n    toggle(index) {\r\n        if (!this.readOnly) {\r\n            this.ratingValue = index + 1;\r\n\r\n            this.onRatingSelected({\r\n                rating: this.ratingValue\r\n            });\r\n\r\n            this.updateStars();\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/starRating/StarRatingController.ts","import * as angular from 'angular';\r\nimport { SideLengthService } from './SideLengthService';\r\n\r\nexport default angular\r\n    .module('levels.sideLengthService', [])\r\n    .service(SideLengthService.$name, SideLengthService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/sideLengthService/SideLengthServiceModule.ts","import * as angular from 'angular';\r\n\r\n'use strict';\r\n\r\n/** Keeps track of the length of a side for a game -- it is used in many calculations & in many places */\r\n\r\nexport class SideLengthService {\r\n    static $name = 'sideLengthService';\r\n\r\n    private _sideLength: number;\r\n\r\n    get sideLength(): number {\r\n        return this._sideLength;\r\n    }\r\n\r\n    set sideLength(length: number) {\r\n        this._sideLength = length;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/sideLengthService/SideLengthService.ts","import * as angular from 'angular';\r\nimport { TileComponent } from './TileComponent';\r\nimport { TileController } from './TileController';\r\nimport { TileService } from './TileService';\r\n\r\nexport default angular\r\n    .module('levels.tile', [])\r\n    .component(TileComponent.$name, new TileComponent())\r\n    .controller(TileController.$name, TileController)\r\n    .service(TileService.$name, TileService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tile/TileModule.ts","'use strict';\r\n\r\nexport class TileComponent implements angular.IComponentOptions {\r\n    static $name = 'tile';\r\n    bindToController = true;\r\n    controller = 'TileController';\r\n    controllerAs = 'tileCtrl';\r\n    templateUrl = 'modules/levels/tile/TileView.html';\r\n\r\n    bindings = {\r\n        gameMatrix: '<',\r\n        index: '<',\r\n        level: '<',\r\n        tiles: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tile/TileComponent.ts","import { BooleanMatrix } from '../matrix/BooleanMatrix';\r\nimport { DragBoxService } from '../dragBox/DragBoxService';\r\nimport { EventService } from '../../core/eventService/EventService';\r\nimport { GameOverService } from '../gameOver/GameOverService';\r\nimport { ILevel } from \"../level/Level\";\r\nimport { ShiftService } from '../shiftService/ShiftService';\r\nimport { Point } from '../point/Point';\r\nimport { SideLengthService } from '../sideLengthService/SideLengthService';\r\nimport { TileService } from '../tile/TileService';\r\nimport { TileSizeService } from '../tileSize/TileSizeService';\r\nimport { TileState } from './TileState';\r\nimport { TouchService } from '../../core/touch/TouchService';\r\nimport { Utils } from '../utils/Utils';\r\n\r\n'use strict';\r\n\r\nexport class TileController implements angular.IComponentController {\r\n    static $controllerAs = 'tileCtrl';\r\n    static $name = 'TileController';\r\n\r\n    static $inject = [\r\n        '$attrs',\r\n        '$element',\r\n        '$scope',\r\n        'Utils',\r\n        'dragBoxService',\r\n        'eventService',\r\n        'gameOverService',\r\n        'shiftService',\r\n        'sideLengthService',\r\n        'tileService',\r\n        'tileSizeService',\r\n        'touchService'\r\n    ];\r\n\r\n    /* At this level, work with the horizontal version only */\r\n    private gameMatrix: BooleanMatrix;\r\n\r\n    private index;\r\n    private isEditMode: boolean;\r\n\r\n    private level: ILevel;\r\n\r\n    private editable;\r\n\r\n    private marked: boolean;\r\n    private pending: boolean;\r\n    private selected: boolean;\r\n\r\n    private goalMatrix;\r\n\r\n    private height: string;\r\n    private width: string;\r\n\r\n    private tiles;\r\n\r\n    constructor(\r\n        private $attrs: angular.IAttributes,\r\n        private $element: angular.IAugmentedJQuery,\r\n        private $scope: angular.IScope,\r\n        private Utils: Utils, \r\n        private dragBoxService: DragBoxService,\r\n        private eventService: EventService,\r\n        private gameOverService: GameOverService,\r\n        private shiftService: ShiftService,\r\n        private sideLengthService: SideLengthService,\r\n        private tileService: TileService,\r\n        private tileSizeService: TileSizeService,\r\n        private touchService: TouchService\r\n    ) {\r\n       \r\n    }\r\n\r\n    $onInit() {\r\n        this.editable = this.$attrs['editable'];\r\n        this.isEditMode = this.level.currentView === 'edit';\r\n\r\n        this.goalMatrix = this.Utils.getGoalMatrix();\r\n\r\n        this.initializeFill();\r\n    }\r\n\r\n    $postLink() {\r\n        this.setTileSize(this.tileSizeService.getTileSize());\r\n        this.tileService.addTile({ tileCtrl: this });\r\n\r\n        this.$element.on('mousedown', (e) => this.mouseDownEvent(e));\r\n        this.$element.on('mousemove', (e) => this.mouseMoveEvent(e));\r\n        this.$element.on('mouseup', (e) => this.mouseUpEvent(e));\r\n\r\n        this.$element.on('touchstart', (e) => {\r\n            e.preventDefault();\r\n            this.mouseDownEvent(e);\r\n        });\r\n\r\n        this.$element.on('touchmove', (e) => {\r\n            e.preventDefault();\r\n            this.mouseMoveEvent(e);\r\n        });\r\n\r\n        this.$element.on('touchend', (e) => {\r\n            e.preventDefault();\r\n            this.mouseUpEvent(e);\r\n        })\r\n\r\n        this.eventService.subscribe(this.$scope, 'tileSizeChanged', () => {\r\n            this.setTileSize(this.tileSizeService.getTileSize());\r\n        })\r\n    }\r\n\r\n    private clearPending(coords: Point[]) {\r\n        this.tileService.fillTiles(coords, true, TileState.empty, 'isPendingAndNotSelected');\r\n    }\r\n\r\n    /** If the override value (which will be the value of the tile that a dragstart is activated on)\r\n     *  is present, use that for all tiles being considered.\r\n     *  This is so you don't unselect previously selected tiles if your drags overlap\r\n     */\r\n    private checkForOverride(override, value) {\r\n        if (typeof override !== 'undefined') {\r\n            return !override;\r\n        } else {\r\n            return !value;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Determine the initial state of the tile fills\r\n     */\r\n    private initializeFill() {\r\n        if (this.isEditMode && this.tiles && this.tiles[this.index] && this.tiles[this.index].selected) {\r\n            this.fill(TileState.selected);\r\n        } else {\r\n            this.fill(TileState.empty);\r\n        }\r\n    }\r\n\r\n    private fillPending(index) {\r\n        var coord = this.tileService.convertTo2D(index),\r\n                    coordsToClear,\r\n                    i = 0,\r\n                    len,\r\n                    currentCoord,\r\n                    currentTileController;\r\n\r\n        // save a snapshot of the previous dragbox for comparison purposes\r\n        var oldCoords = this.dragBoxService.process();\r\n\r\n        // set the current coordinate to the new dragbox end and compute the new dragbox\r\n        this.dragBoxService.endCoord = coord;\r\n        \r\n        var allPendingCoords = this.dragBoxService.process();\r\n\r\n        // we should only clear the old coordinates off if the current selected area is\r\n        // smaller than the previous selected area, for speed reasons\r\n        if (allPendingCoords &&\r\n            oldCoords &&\r\n            allPendingCoords.length < oldCoords.length) {\r\n\r\n            // more speed -- only clear the values that are present in\r\n            // oldCoords but not allPendingCoords\r\n            coordsToClear = oldCoords.filter(function(e) {\r\n                if (allPendingCoords.indexOfObject(e) === -1) return true;\r\n            });\r\n            \r\n            this.clearPending(coordsToClear);\r\n        }\r\n\r\n        this.tileService.fillTiles(allPendingCoords, true, TileState.pending,'isNotPending');\r\n\r\n        this.$scope.$apply(); \r\n    }\r\n\r\n    private mouseDownEvent(event: JQueryEventObject) {\r\n        let coord = this.tileService.convertTo2D(this.index);\r\n\r\n        this.dragBoxService.startCoord = coord;\r\n        this.dragBoxService.initState = this.selected;\r\n    }\r\n\r\n    private mouseMoveEvent(event: JQueryEventObject) {\r\n        let actualScope = this.touchService.getTargetScope(event);\r\n\r\n        if (actualScope && actualScope.tileCtrl.index) {\r\n            if (this.dragBoxService.validateStart())  {\r\n                this.fillPending(actualScope.tileCtrl.index);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n    * This event bubbles up to GameController, which completes the job\r\n    */\r\n    private mouseUpEvent(event: JQueryEventObject) {\r\n        let actualScope = this.touchService.getTargetScope(event);\r\n        let coord;\r\n\r\n        if (actualScope && actualScope.tileCtrl.hasOwnProperty('index')) {\r\n            coord = this.tileService.convertTo2D(actualScope.tileCtrl.index);\r\n            this.dragBoxService.endCoord = coord;\r\n        }\r\n    }\r\n\r\n    change(index, initState, changeTo) {\r\n        if (this.editable === 'true') {\r\n            this.changeTile(index, initState, changeTo, this.goalMatrix);\r\n        }\r\n    }\r\n\r\n    changeTile(index, initState, changeTo, goalMatrix) {\r\n        var coord;\r\n\r\n        if (typeof index === 'number') { \r\n            coord = this.tileService.convertTo2D(index);\r\n        } else {\r\n            coord = index;\r\n        }\r\n    \r\n        if (changeTo in TileState) {\r\n            this.fill(changeTo);\r\n        } else {\r\n            if (this.shiftService.shiftOn === true) {\r\n                this.fill(this.marked ? TileState.empty : TileState.marked);\r\n                \r\n                this.gameMatrix.setValueAt(coord.y, coord.x, this.selected);\r\n            } else {\r\n                this.fill(this.selected ? TileState.empty : TileState.selected, initState);\r\n                this.gameMatrix.setValueAt(coord.y, coord.x, this.selected);\r\n            }\r\n        }\r\n    }\r\n\r\n    fill(fillType, override?) {\r\n        switch (fillType) {\r\n            case TileState.pending:\r\n                this.pending = true;\r\n                break;\r\n            case TileState.marked:\r\n                this.marked = true;\r\n                this.selected = false;\r\n                this.pending = false;\r\n                break;\r\n            case TileState.selected:\r\n                this.selected = this.checkForOverride(override, this.selected);\r\n                this.marked = false;\r\n                this.pending = false;\r\n                break;\r\n            case TileState.empty:\r\n                this.selected = false;\r\n                this.marked = false;\r\n                this.pending = false;\r\n                break;\r\n            default:\r\n                console.log(\"you done goofed\");\r\n                break;\r\n        }\r\n    }\r\n\r\n    fillBorders(direction, index) {\r\n      return this.getBorderColors(direction, index);\r\n    }\r\n\r\n    /* Determine which tiles to add colored borders to */\r\n    getBorderColors(direction, index) {\r\n        let canColor;\r\n        let coord = this.tileService.convertTo2D(index);\r\n        let sideLength = this.sideLengthService.sideLength;\r\n\r\n        // no borders through puzzle for small puzzles\r\n        if (sideLength <= 5) {\r\n            return;\r\n        }\r\n\r\n        switch (direction) {\r\n            case 'left':\r\n                canColor = this.testTileForBorder(sideLength, coord.x);\r\n                break;\r\n            case 'right':\r\n                canColor = this.testTileForBorder(sideLength, coord.x + 1);\r\n                break;\r\n            case 'bottom':\r\n                canColor = this.testTileForBorder(sideLength, coord.y + 1);\r\n                break;\r\n            case 'top':\r\n                canColor = this.testTileForBorder(sideLength, coord.y);\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (canColor) {\r\n            return \"1px solid #222\"\r\n        }\r\n    }\r\n\r\n    /** used with the validationFn in tileService.fillTiles */\r\n    isPendingAndNotSelected() {\r\n        return this.pending && !this.selected;\r\n    }\r\n\r\n    /** used with the validationFn in tileService.fillTiles */\r\n    isNotPending() {\r\n        return !this.pending;\r\n    }\r\n\r\n    setTileSize(tileSize) {\r\n        tileSize = Math.floor(tileSize);\r\n        this.width = tileSize + 'px';\r\n        this.height = tileSize + 'px';\r\n    };\r\n\r\n    /** We want to add colored borders to every 5th tile, unless it is at the beginning or end of a column or row */\r\n    testTileForBorder(sideLength, index) {\r\n        return (index % 5 === 0\r\n                && index % sideLength !== 0);\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tile/TileController.ts","import { Point } from '../point/Point';\r\nimport { SideLengthService } from '../sideLengthService/SideLengthService';\r\nimport { TileState } from '../tile/TileState';\r\n\r\n'use strict';\r\n\r\n/**\r\n * Keeps a cache of the tiles on the screen for faster access (smooth animation for dragging & selecting),\r\n * as well as methods for accessing it\r\n */\r\n\r\nexport class TileService {\r\n    static $name = 'tileService';\r\n\r\n    static $inject = [\r\n        'sideLengthService'\r\n    ];\r\n\r\n    private tileIndex: any[] = [];\r\n\r\n    constructor(\r\n        private sideLengthService: SideLengthService\r\n    ) {\r\n\r\n    }\r\n\r\n    /** Convert a 2D coordinate into an index */\r\n    private convertTo1D(coord: Point): number {\r\n        return (coord.y * this.sideLengthService.sideLength) + coord.x;\r\n    }\r\n\r\n    /** Append the current tile index */\r\n    addTile(obj): void {\r\n        this.tileIndex.push(obj);\r\n    }\r\n\r\n    /** Make sure the index is clean before we add to it, to avoid bugs with switching between screens */\r\n    clearTileIndex(): void {\r\n        this.tileIndex = [];\r\n    }\r\n\r\n    /** Convert an index into a 2D coordinate */\r\n    convertTo2D(index: number): Point {\r\n        let x = index % this.sideLengthService.sideLength;\r\n        let y = (index - x) / this.sideLengthService.sideLength;\r\n\r\n        let coord = {\r\n            y: y,\r\n            x: x\r\n        };\r\n\r\n        return coord;\r\n    }\r\n   \r\n    /** Empty out all of the tiles, but keep them on-screen */ \r\n    eraseTiles(): void {\r\n        let len = this.tileIndex.length;\r\n\r\n        for (let i = 0; i < len; i++) {\r\n            this.tileIndex[i].tileCtrl.fill(TileState.empty);\r\n        }\r\n    }\r\n\r\n     /**\r\n     * Fill all of the tiles in the specified coordinate array\r\n     * @params {Array} array of coordinate objects\r\n     * @params {function} a function to run on each tile controller before changing it to determine whether or not to change. must be defined in TileController\r\n     */\r\n    fillTiles(coords: Point[], initState, override, validationFn?) {\r\n        let len = coords.length;\r\n    \r\n        for (let i = 0; i < len; i++) {\r\n            let currentCoord = coords[i];\r\n            let currentTileController = this.findTileCtrlByCoord(currentCoord);\r\n    \r\n            if (!validationFn || (typeof currentTileController[validationFn] === 'function' && currentTileController[validationFn]())) {\r\n                currentTileController.change(currentCoord, initState, override);\r\n            }\r\n        }\r\n    }\r\n\r\n    /** Grab a tile controller out of the tile index from a given 2D coordinate */\r\n    findTileCtrlByCoord(coord: Point): any { // todo\r\n        var index = this.convertTo1D(coord);\r\n        return this.findTileCtrlByIndex(index); \r\n    }\r\n\r\n    /** Grab a tile controller out of the tile index from a given 1D index */\r\n    findTileCtrlByIndex(index: number): any { // todo\r\n        return this.tileIndex[index].tileCtrl;\r\n    }\r\n\r\n    /** Return the current tileIndex */ \r\n    getTileIndex(): any { // todo\r\n        return this.tileIndex;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tile/TileService.ts","import * as angular from 'angular';\r\nimport { TileSizeService } from './TileSizeService';\r\n\r\nexport default angular\r\n    .module('levels.tileSize', [])\r\n    .service(TileSizeService.$name, TileSizeService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tileSize/TileSizeModule.ts","export class TileSizeService {\r\n    static $name = 'tileSizeService';\r\n\r\n    static $inject = [\r\n        '$rootScope'\r\n    ];\r\n\r\n    private tileSize: number = 25;\r\n\r\n    constructor(\r\n        private $rootScope: angular.IRootScopeService\r\n    ) {\r\n    }\r\n\r\n    getTileSize() {\r\n        return this.tileSize;\r\n    }\r\n\r\n    getTileSizePx() {\r\n        return this.getTileSize()  + 'px'\r\n    }\r\n\r\n    setTileSize(gameWidth, widthInTiles) {\r\n        this.tileSize = gameWidth / parseInt(widthInTiles, 10);\r\n        this.$rootScope.$broadcast('tileSizeChanged', this.tileSize);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/tileSize/TileSizeService.ts","import * as angular from 'angular';\r\nimport { Utils } from './Utils';\r\n\r\nexport default angular\r\n    .module('levels.utils', [])\r\n    .service(Utils.$name, Utils)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/utils/UtilsModule.ts","import * as angular from 'angular';\r\n\r\nimport { BooleanMatrix } from '../matrix/BooleanMatrix';\r\nimport { GameSizeService } from '../gameSize/GameSizeService';\r\nimport { SideLengthService } from '../sideLengthService/SideLengthService';\r\nimport { TileService } from '../tile/TileService';\r\n\r\nexport class Utils {\r\n    static $name = 'Utils';\r\n\r\n    static $inject = [\r\n        'gameSizeService',\r\n        'sideLengthService',\r\n        'tileService'\r\n    ];\r\n\r\n    constructor(\r\n        private gameSizeService: GameSizeService,\r\n        private sideLengthService: SideLengthService,\r\n        private tileService: TileService\r\n    ) {\r\n\r\n    }\r\n\r\n    private gameMatrix: BooleanMatrix;\r\n    private goalMatrix: BooleanMatrix;\r\n    \r\n    /** Clear everything, to start a new game */\r\n    clearAll() {\r\n        var currentGameMatrix = this.getGameMatrix();\r\n\t\t\t\t\r\n        this.tileService.eraseTiles();\r\n\r\n        if (currentGameMatrix) {\r\n            currentGameMatrix.clear();\r\n        }\r\n\r\n        this.tileService.clearTileIndex();\r\n    }\r\n\r\n    /* Given a number of tiles, create an empty square matrix with that number */\r\n    createEmptyMatrix(numberOfTiles: number) {\r\n        let sideLength = Math.sqrt(numberOfTiles);\r\n        let finalMatrix = new BooleanMatrix(sideLength, sideLength);\r\n        this.setGameMatrix(finalMatrix);\r\n    }\r\n\r\n    /* Combine a lot of the other functions here to set up a new game */\r\n    createNewGame(args) {\r\n        var goalMatrix;\r\n\r\n        if (args.layout) {\r\n            this.setGoalMatrix(args.layout);\r\n        }\r\n\r\n        this.tileService.clearTileIndex();\r\n        this.gameSizeService.calculatePlayableArea();\r\n        this.createEmptyMatrix(args.numberOfTiles);\r\n\r\n        /* When editing the level, we'll prepopulate the game matrix (revealed tiles) with the goal matrix,\r\n        then get rid of the goal matrix (since we don't want to be able to win while editing) */\r\n        switch(args.controller) {\r\n            case 'edit':\r\n                goalMatrix = this.getGoalMatrix();\r\n\r\n                if (goalMatrix) {\r\n                    this.setGameMatrix(goalMatrix);\r\n                }\r\n\r\n                this.setGoalMatrix();\r\n                break;\r\n            case 'new':\r\n                this.setGoalMatrix();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n \r\n    /* Convert a Matrix into an array (for ng-repeat to hit all of them) */\r\n    flatten(matrix) {\r\n        return Array.prototype.concat.apply([], matrix);\r\n    }\r\n\r\n    /* Return the current game matrix */\r\n    getGameMatrix(): BooleanMatrix {\r\n        return this.gameMatrix;\r\n    }\r\n\r\n    /* Return the current goal matrix (matrix for game matrix to be compared to to determine a win) */\r\n    getGoalMatrix() {\r\n        return this.goalMatrix;\r\n    }\r\n\t\t\t\r\n    /* Display an integer size (e.g. 15) and convert it to a pleasing form (15x15) */\r\n    prettySize(size) {\r\n        return size + 'x' + size;\r\n    }\r\n\r\n    /* Modify the current goal matrix (loading level from layout) */\r\n    setGoalMatrix(layout?) {\r\n        if (layout) {\r\n            this.goalMatrix = new BooleanMatrix(layout.length, layout.length);\r\n            this.goalMatrix.initializeWith(layout);\r\n        } else {\r\n            this.goalMatrix = null;\r\n        }\r\n    }\r\n\r\n    /* Modify the current game matrix, setting a new side length and game size as a side effect  (used for changing size) */\r\n    setGameMatrix(gameMatrix: BooleanMatrix) {\r\n        this.gameMatrix = gameMatrix;\r\n        this.sideLengthService.sideLength = gameMatrix.length;\r\n        this.gameSizeService.setGameSize(gameMatrix.length);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/utils/Utils.ts","'use strict';\r\n\r\nexport class LevelsRoutes {\r\n    static route($stateProvider: angular.ui.IStateProvider) {\r\n        let levelTemplateUrl = 'modules/levels/level/index.html';\r\n    \r\n        $stateProvider\r\n            .state('create-level', {\r\n                url: '/level/new',\r\n                templateUrl: levelTemplateUrl,\r\n                params: {\r\n                    mode: 'new'\r\n                }\r\n            })\r\n            .state('level', {\r\n                url: '/level/:levelId',\r\n                templateUrl: levelTemplateUrl,\r\n                params: {\r\n                    mode: 'view'\r\n                }\r\n            })\r\n            .state('update-level', {\r\n                url: '/level/:levelId/edit',\r\n                templateUrl: levelTemplateUrl,\r\n                params: {\r\n                    mode: 'edit'\r\n                }\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/levels/config/RouteModule.ts","'use strict';\r\n\r\nimport * as angular from 'angular';\r\n\r\nimport AuthenticationModule from './authentication/AuthenticationModule';\r\nimport EditProfileModule from './editProfile/EditProfileModule';\r\nimport ForgotPasswordModule from './forgotPassword/ForgotPasswordModule';\r\nimport ResetPasswordModule from './resetPassword/ResetPasswordModule';\r\nimport SignInModule from './signIn/SignInModule';\r\nimport SignUpModule from './signUp/SignUpModule';\r\nimport UsersServiceModule from './usersService/UsersServiceModule';\r\n\r\nimport { errorHandler } from './config/ErrorHandler';\r\nimport { routing } from './config/RouteModule';\r\n\r\nexport default angular\r\n    .module('users', [\r\n        AuthenticationModule,\r\n        EditProfileModule,\r\n        ForgotPasswordModule,\r\n        ResetPasswordModule,\r\n        SignInModule,\r\n        SignUpModule,\r\n        UsersServiceModule\r\n    ])\r\n    .config(errorHandler)\r\n    .config(routing)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/UsersModule.ts","import * as angular from 'angular';\r\nimport { AuthenticationService } from './AuthenticationService';\r\n\r\nexport default angular\r\n    .module('users.authentication', [])\r\n    .service(AuthenticationService.$name, AuthenticationService)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/authentication/AuthenticationModule.ts","'use strict';\r\n\r\n/**\r\n * This should handle all interaction with the user information available to the client\r\n */\r\nexport class AuthenticationService {\r\n    static $name = 'Authentication';\r\n\r\n    static $inject = [\r\n        '$log',\r\n        '$window'\r\n    ];\r\n\r\n    constructor(\r\n        private $log: angular.ILogService,\r\n        private $window: angular.IWindowService\r\n    ) {\r\n        this.signIn(this.$window.user);\r\n    }\r\n\r\n    private _user;\r\n\r\n    /** Accessed directly from the templates for user info */\r\n    get user() {\r\n        return this._user;\r\n    }\r\n\r\n    /** Set the user object */\r\n    public signIn(user) {\r\n        this._user = user;\r\n    }\r\n\r\n    /** Signing in a null user is the same thing as signing out.*/\r\n    public signOut() {\r\n        this.signIn(null);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/authentication/AuthenticationService.ts","import * as angular from 'angular';\r\nimport { EditProfileComponent } from './EditProfileComponent';\r\nimport { EditProfileController } from './EditProfileController';\r\n\r\nexport default angular\r\n    .module('users.editProfile', [])\r\n    .component(EditProfileComponent.$name, new EditProfileComponent())\r\n    .controller(EditProfileController.$name, EditProfileController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/editProfile/EditProfileModule.ts","'use strict';\r\n\r\n/** Popup to change email/password or log out */\r\n\r\nexport class EditProfileComponent implements angular.IComponentOptions {\r\n    static $name = 'editProfile';\r\n    controller = 'EditProfileController';\r\n    controllerAs = 'editProfileCtrl';\r\n    templateUrl = 'modules/users/editProfile/EditProfileView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/editProfile/EditProfileComponent.ts","import { AuthenticationService } from '../authentication/AuthenticationService';\r\n\r\n'use strict';\r\n\r\nexport class EditProfileController implements angular.IComponentController {\r\n    static $controllerAs = 'editProfileCtrl';\r\n    static $name = 'EditProfileController';\r\n\r\n    static $inject = [\r\n       '$scope',\r\n       '$http',\r\n       '$location',\r\n       '$timeout',\r\n       'Users',\r\n       'Authentication'\r\n    ];\r\n\r\n    private closeAction: Function;\r\n\r\n    private minPasswordLength: number = 10;\r\n    private submitted: boolean;\r\n    private timeout: number = 1000;\r\n    \r\n    private passwordDetails: any = {};\r\n    private success: any = {};\r\n    private error: any = {};\r\n\r\n    private user;\r\n\r\n    constructor(\r\n        private $scope: angular.IScope,\r\n        private $http: angular.IHttpService,\r\n        private $location: angular.ILocationService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private Users,\r\n        private Authentication: AuthenticationService\r\n    ) {\r\n\r\n    }\r\n\r\n    $onInit() {}\r\n\r\n    /** Change user password */\r\n    changeUserPassword() {\r\n        this.success.password = this.error.password = null;\r\n\r\n        this.$http.post('/users/password', this.passwordDetails).then((response) => {\r\n            // If successful show success message and clear form\r\n            this.success.password = true;\r\n            this.passwordDetails = null;\r\n\r\n            this.$timeout(() => {\r\n                this.success.password = null;\r\n            }, this.timeout);\r\n        }).catch((response) => {\r\n            this.error.password = response.message;\r\n\r\n            this.$timeout(function() {\r\n                this.error.password = null;\r\n            }, this.timeout);\r\n        });\r\n    };\r\n\r\n    signout() {\r\n        this.$http.post('/auth/signout', {}).then((response) => {\r\n            this.Authentication.signOut();\r\n            this.closeAction();\r\n        }).catch((response) => {\r\n\r\n        });\r\n    }\r\n\r\n    /** Update a user profile */\r\n    updateUserProfile(isValid) {\r\n        if (isValid){\r\n            this.success.username = this.error.username = null;\r\n            var user = new this.Users(this.Authentication.user);\r\n\r\n            user.$update((response) => {\r\n                this.success.username = true;\r\n                this.Authentication.signIn(response);\r\n\r\n                this.$timeout(() => {\r\n                    this.success.username = false;\r\n                }, this.timeout)\r\n            }, (response) => {\r\n                this.error.username = response.data.message;\r\n\r\n                this.$timeout(function() {\r\n                    this.error.password = null;\r\n                }, this.timeout);\r\n            });\r\n        } else {\r\n            this.submitted = true;\r\n        }\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/editProfile/EditProfileController.ts","import * as angular from 'angular';\r\nimport { ForgotPasswordComponent } from './ForgotPasswordComponent';\r\nimport { ForgotPasswordController } from './ForgotPasswordController';\r\n\r\nexport default angular\r\n    .module('users.forgotPassword', [])\r\n    .component(ForgotPasswordComponent.$name, new ForgotPasswordComponent())\r\n    .controller(ForgotPasswordController.$name, ForgotPasswordController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/forgotPassword/ForgotPasswordModule.ts","'use strict';\r\n\r\n/** Popup to change email/password or log out */\r\n\r\nexport class ForgotPasswordComponent implements angular.IComponentOptions {\r\n    static $name = 'forgotPassword';\r\n    controller = 'ForgotPasswordController';\r\n    controllerAs = 'forgotPasswordCtrl';\r\n    templateUrl = 'modules/users/forgotPassword/ForgotPasswordView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&',\r\n        username: '@'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/forgotPassword/ForgotPasswordComponent.ts","'use strict';\r\n\r\nexport class ForgotPasswordController implements angular.IComponentController {\r\n    static $controllerAs = 'forgotPasswordCtrl';\r\n    static $name = 'ForgotPasswordController';\r\n\r\n    static $inject = [\r\n        '$http',\r\n        '$stateParams',\r\n        '$timeout'\r\n    ];\r\n\r\n    private invalid;\r\n    private credentials: any = {};\r\n\r\n    private closeAction: Function;\r\n\r\n    private success: string;\r\n    private error: string;\r\n    \r\n    private timeout: number = 1000;\r\n\r\n    // the username possibly passed in from outside -- bind it in onInit\r\n    private username: string;\r\n\r\n    constructor(\r\n        private $http: angular.IHttpService,\r\n        private $stateParams: any,\r\n        private $timeout: angular.ITimeoutService\r\n    ) {\r\n\r\n    }\r\n\r\n    $onInit() {\r\n        this.invalid = this.$stateParams['invalid'];\r\n        this.credentials.username = this.username;\r\n    }\r\n\r\n    private clearForm() {\r\n        this.credentials = null;\r\n    }\r\n\r\n    // Submit forgotten password account id\r\n    askForPasswordReset() {\r\n        this.success = this.error = null;\r\n\r\n        this.$http.post('/auth/forgot', this.credentials).then((response: any) => {\r\n            // Show user success message and clear form\r\n            this.clearForm();\r\n            this.success = response.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.closeAction();\r\n            }, this.timeout);\r\n        }).catch((response: any) => {\r\n            // Show user error message and clear form\r\n            this.clearForm();\r\n            this.error = response.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.error = null;\r\n            }, this.timeout);\r\n        });\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/forgotPassword/ForgotPasswordController.ts","import * as angular from 'angular';\r\nimport { ResetPasswordComponent } from './ResetPasswordComponent';\r\nimport { ResetPasswordController } from './ResetPasswordController';\r\n\r\nexport default angular\r\n    .module('users.resetPassword', [])\r\n    .component(ResetPasswordComponent.$name, new ResetPasswordComponent())\r\n    .controller(ResetPasswordController.$name, ResetPasswordController)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/resetPassword/ResetPasswordModule.ts","'use strict';\r\n\r\n/** Screen to reset password */\r\n\r\nexport class ResetPasswordComponent implements angular.IComponentOptions {\r\n    static $name = 'resetPassword';\r\n    controller = 'ResetPasswordController';\r\n    controllerAs = 'resetPasswordCtrl';\r\n    templateUrl = 'modules/users/resetPassword/ResetPasswordView.html';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/resetPassword/ResetPasswordComponent.ts","import { AuthenticationService } from '../authentication/AuthenticationService'\r\n\r\n'use strict';\r\n\r\nexport class ResetPasswordController implements angular.IComponentController {\r\n    static $controllerAs = 'resetPasswordCtrl';\r\n    static $name = 'ResetPasswordController';\r\n\r\n    static $inject = [\r\n        '$http',\r\n        '$location',\r\n        '$stateParams',\r\n        'Authentication'\r\n    ];\r\n\r\n    private invalid;\r\n    private credentials;\r\n    private passwordDetails;\r\n\r\n    private success;\r\n    private error;\r\n\r\n    constructor(\r\n        private $http: angular.IHttpService,\r\n        private $location: angular.ILocationService,\r\n        private $stateParams: any,\r\n        private Authentication: AuthenticationService\r\n    ) {\r\n\r\n    }\r\n\r\n    $onInit() {\r\n    }\r\n\r\n  \t// Change user password\r\n    resetUserPassword() {\r\n        this.success = this.error = null;\r\n\r\n        this.$http.post('/auth/reset/' + this.$stateParams.token, this.passwordDetails).then((response) => {\r\n            // If successful show success message and clear form\r\n            this.passwordDetails = null;\r\n\r\n            // Attach user profile\r\n            this.Authentication.signIn(response.data);\r\n\r\n            // And redirect to the home page\r\n            this.$location.path('/');\r\n        }).catch((response) => {\r\n            this.error = response.data.message;\r\n        });\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/resetPassword/ResetPasswordController.ts","import * as angular from 'angular';\r\nimport { SignInComponent } from './SignInComponent';\r\nimport { SignInController } from './SignInController';\r\n\r\nexport default angular\r\n    .module('users.signIn', [])\r\n    .component(SignInComponent.$name, new SignInComponent())\r\n    .controller(SignInController.$name, SignInController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signIn/SignInModule.ts","'use strict';\r\n\r\n/** Sign-in popup */\r\n\r\nexport class SignInComponent implements angular.IComponentOptions {\r\n    static $name = 'signIn';\r\n    bindToController = true;\r\n    controller = 'SignInController';\r\n    controllerAs = 'signInCtrl';\r\n    templateUrl = 'modules/users/signIn/SignInView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signIn/SignInComponent.ts","import { AuthenticationService } from '../authentication/AuthenticationService'\r\nimport { ComponentDialogService } from '../../core/componentDialog/ComponentDialogService';\r\n\r\n'use strict';\r\n\r\nexport class SignInController implements angular.IComponentController {\r\n    static $controllerAs = 'signInCtrl';\r\n    static $name = 'SignInController';\r\n\r\n    static $inject = [\r\n        '$http',\r\n        '$scope',\r\n        '$timeout',\r\n        'Authentication',\r\n        'componentDialogService'\r\n    ];\r\n\r\n    private credentials;\r\n    private closeAction: Function;\r\n    private error: string;\r\n    private timeout: number = 1000;\r\n\r\n    constructor(\r\n        private $http: angular.IHttpService,\r\n        private $scope: angular.IScope,\r\n        private $timeout: angular.ITimeoutService,\r\n        private Authentication: AuthenticationService,\r\n        private componentDialogService: ComponentDialogService,\r\n    ) {}\r\n\r\n    $onInit() {}\r\n\r\n    openForgotPassword() {\r\n        this.closeAction();\r\n        this.componentDialogService.open('forgot-password', { username: this.credentials.username });\r\n    }\r\n\r\n    signin() {\r\n        this.$http.post('/auth/signin', this.credentials).then((response) => {\r\n            // If successful we assign the response to the global user model\r\n            this.Authentication.signIn(response.data);\r\n            this.closeAction();\r\n        }).catch((response) => {\r\n            this.error = response.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.error = null;\r\n            }, this.timeout);\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signIn/SignInController.ts","import * as angular from 'angular';\r\nimport { SignUpComponent } from './SignUpComponent';\r\nimport { SignUpController } from './SignUpController';\r\n\r\nexport default angular\r\n    .module('users.signUp', [])\r\n    .component(SignUpComponent.$name, new SignUpComponent())\r\n    .controller(SignUpController.$name, SignUpController)\r\n    .name;\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signUp/SignUpModule.ts","'use strict';\r\n\r\n/** Sign-in popup */\r\n\r\nexport class SignUpComponent implements angular.IComponentOptions {\r\n    static $name = 'signUp';\r\n    bindToController = true;\r\n    controller = 'SignUpController';\r\n    controllerAs = 'signUpCtrl';\r\n    templateUrl = 'modules/users/signUp/SignUpView.html';\r\n\r\n    bindings = {\r\n        closeAction: '&'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signUp/SignUpComponent.ts","import { AuthenticationService } from '../authentication/AuthenticationService'\r\n\r\n'use strict';\r\n\r\nexport class SignUpController implements angular.IComponentController {\r\n    static $controllerAs = 'signUpCtrl';\r\n    static $name = 'SignUpController';\r\n\r\n    static $inject = [\r\n        '$http',\r\n        '$timeout',\r\n        'Authentication'\r\n    ];\r\n\r\n    private credentials;\r\n    private closeAction: Function;\r\n    private error: string;\r\n    private minPasswordLength = 10;\r\n    private timeout: number = 1000;\r\n\r\n    constructor(\r\n        private $http: angular.IHttpService,\r\n        private $timeout: angular.ITimeoutService,\r\n        private Authentication: AuthenticationService\r\n    ) {}\r\n\r\n    $onInit() {}\r\n\r\n    signup() {\r\n        this.$http.post('/auth/signup', this.credentials).then((response) => {\r\n            // If successful we assign the response to the global user model\r\n            this.Authentication.signIn(response.data);\r\n            this.closeAction();\r\n        }).catch((response) => {\r\n            this.error = response.data.message;\r\n\r\n            this.$timeout(() => {\r\n                this.error = null;\r\n            }, this.timeout);\r\n        });\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/signUp/SignUpController.ts","import * as angular from 'angular';\r\nimport { usersService } from './UsersService';\r\n\r\nexport default angular\r\n    .module('users.usersService', [])\r\n    .factory('Users', usersService)\r\n    .name\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/usersService/UsersServiceModule.ts","'use strict';\r\n\r\n// Users service used for communicating with the users REST endpoint\r\nexport function usersService($resource) {\r\n\treturn $resource('users', {}, {\r\n\t\tupdate: {\r\n\t\t\tmethod: 'PUT'\r\n\t\t}\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/usersService/UsersService.ts","'use strict';\r\n\r\n// Config HTTP Error Handling\r\nexport function errorHandler($httpProvider) {\r\n\t// Set the httpProvider \"not authorized\" interceptor\r\n\t$httpProvider.interceptors.push(['$q', '$location', 'Authentication',\r\n\t\tfunction($q, $location, Authentication) {\r\n\t\t\treturn {\r\n\t\t\t\tresponseError: function(rejection) {\r\n\t\t\t\t\tswitch (rejection.status) {\r\n\t\t\t\t\t\tcase 401:\r\n\t\t\t\t\t\t\t// Deauthenticate the global user\r\n\t\t\t\t\t\t\tAuthentication.signOut();\r\n\r\n\t\t\t\t\t\t\t// Redirect to signin page\r\n\t\t\t\t\t\t\t$location.path('signin');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 403:\r\n\t\t\t\t\t\t\t// Add unauthorized behaviour \r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn $q.reject(rejection);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t]);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/config/ErrorHandler.ts","'use strict';\r\n\r\n// Setting up route\r\nexport function routing($stateProvider) {\r\n\t// Users state routing\r\n\t$stateProvider.\r\n\tstate('reset-invalid', {\r\n\t\turl: '/password/reset/invalid',\r\n\t\tparams: {\r\n\t\t\tinvalid: true\r\n\t\t},\r\n\t\tplain: true,\r\n\t\ttemplate: '<forgot-password></forgot-password>'\r\n\t}).\r\n\tstate('reset', {\r\n\t\turl: '/password/reset/:token',\r\n\t\ttemplate: '<reset-password></reset-password>'\r\n\t});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/modules/users/config/RouteModule.ts"],"sourceRoot":""}